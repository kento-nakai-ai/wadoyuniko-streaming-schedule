# ğŸ¯ ç‰¹å…¸9: n8nè‡ªå‹•åŒ–å®Œå…¨ãƒã‚¹ã‚¿ãƒ¼ã‚¬ã‚¤ãƒ‰

## ãƒãƒ¼ã‚³ãƒ¼ãƒ‰ã§å®Ÿç¾ï¼AIÃ—è‡ªå‹•åŒ–ã§æœˆå200ä¸‡å††ã‚’ç”Ÿã¿å‡ºã™æœ€å¼·ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

---

## ğŸš€ n8nã¨ã¯ï¼Ÿãªãœä»Šn8nãŒæœ€å¼·ãªã®ã‹

### n8nã®åœ§å€’çš„å„ªä½æ€§
```markdown
## n8n vs ä»–ã®è‡ªå‹•åŒ–ãƒ„ãƒ¼ãƒ«

### Zapier
- æ–™é‡‘: æœˆé¡$20ã€œ$600 âŒ
- å®Ÿè¡Œå›æ•°åˆ¶é™ã‚ã‚Š âŒ
- ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ€§ä½ã„ âŒ

### Make (Integromat)
- è¤‡é›‘ãªæ–™é‡‘ä½“ç³» âŒ
- æ—¥æœ¬èªå¯¾å¿œä¸è¶³ âŒ
- ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒˆä¸å¯ âŒ

### n8n
- ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒˆç„¡æ–™ âœ…
- å®Ÿè¡Œå›æ•°ç„¡åˆ¶é™ âœ…
- 400+ã®çµ±åˆã‚µãƒ¼ãƒ“ã‚¹ âœ…
- ã‚³ãƒ¼ãƒ‰å®Ÿè¡Œå¯èƒ½ âœ…
- AIå®Œå…¨å¯¾å¿œ âœ…
```

### n8nã§å®Ÿç¾ã§ãã‚‹ãƒ“ã‚¸ãƒã‚¹è‡ªå‹•åŒ–
```javascript
const n8nBusinessCases = {
  ECã‚µã‚¤ãƒˆé‹å–¶: {
    æ³¨æ–‡å‡¦ç†: "è‡ªå‹•ã§åœ¨åº«ç¢ºèªâ†’ç™ºé€æŒ‡ç¤ºâ†’é¡§å®¢é€šçŸ¥",
    åœ¨åº«ç®¡ç†: "åœ¨åº«åˆ‡ã‚Œå‰ã«è‡ªå‹•ç™ºæ³¨",
    é¡§å®¢å¯¾å¿œ: "AIãƒãƒ£ãƒƒãƒˆãƒœãƒƒãƒˆã§24æ™‚é–“å¯¾å¿œ",
    æœˆé–“å‰Šæ¸›æ™‚é–“: "160æ™‚é–“",
    å‰Šæ¸›ã‚³ã‚¹ãƒˆ: "æœˆ80ä¸‡å††"
  },
  
  ã‚³ãƒ³ãƒ†ãƒ³ãƒ„äº‹æ¥­: {
    è¨˜äº‹ç”Ÿæˆ: "AIÃ—n8nã§æ¯æ—¥10è¨˜äº‹è‡ªå‹•æŠ•ç¨¿",
    SNSæŠ•ç¨¿: "ãƒãƒ«ãƒãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ åŒæ™‚æŠ•ç¨¿",
    åˆ†æãƒ¬ãƒãƒ¼ãƒˆ: "é€±æ¬¡ã§è‡ªå‹•ç”Ÿæˆãƒ»é…ä¿¡",
    æœˆé–“å£²ä¸Šå‘ä¸Š: "300%å¢—åŠ "
  },
  
  SaaSé‹å–¶: {
    ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†: "ç™»éŒ²â†’èª²é‡‘â†’ã‚ªãƒ³ãƒœãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è‡ªå‹•åŒ–",
    ã‚µãƒãƒ¼ãƒˆ: "å•ã„åˆã‚ã›è‡ªå‹•æŒ¯ã‚Šåˆ†ã‘ãƒ»å›ç­”",
    è«‹æ±‚æ›¸ç™ºè¡Œ: "æœˆæœ«è‡ªå‹•ç”Ÿæˆãƒ»é€ä»˜",
    é‹ç”¨ã‚³ã‚¹ãƒˆå‰Šæ¸›: "70%å‰Šæ¸›"
  }
};
```

---

## ğŸ“Š ç¬¬1ç« : n8nç’°å¢ƒæ§‹ç¯‰å®Œå…¨ã‚¬ã‚¤ãƒ‰

### 3ã¤ã®å°å…¥æ–¹æ³•

#### æ–¹æ³•1: Docker Composeï¼ˆæ¨å¥¨ï¼‰
```yaml
# docker-compose.yml
version: '3.8'

services:
  n8n:
    image: n8nio/n8n:latest
    container_name: n8n
    restart: unless-stopped
    ports:
      - "5678:5678"
    environment:
      - N8N_BASIC_AUTH_ACTIVE=true
      - N8N_BASIC_AUTH_USER=admin
      - N8N_BASIC_AUTH_PASSWORD=your-secure-password
      - N8N_HOST=n8n.your-domain.com
      - N8N_PORT=5678
      - N8N_PROTOCOL=https
      - NODE_ENV=production
      - WEBHOOK_URL=https://n8n.your-domain.com/
      - N8N_ENCRYPTION_KEY=your-encryption-key
      - DB_TYPE=postgresdb
      - DB_POSTGRESDB_DATABASE=n8n
      - DB_POSTGRESDB_HOST=postgres
      - DB_POSTGRESDB_PORT=5432
      - DB_POSTGRESDB_USER=n8n
      - DB_POSTGRESDB_PASSWORD=n8n
      - EXECUTIONS_DATA_SAVE_ON_ERROR=all
      - EXECUTIONS_DATA_SAVE_ON_SUCCESS=all
      - EXECUTIONS_DATA_SAVE_ON_PROGRESS=true
      - EXECUTIONS_DATA_SAVE_MANUAL_EXECUTIONS=true
    volumes:
      - n8n_data:/home/node/.n8n
      - ./files:/files
    depends_on:
      - postgres
    networks:
      - n8n-network

  postgres:
    image: postgres:15
    container_name: n8n_postgres
    restart: unless-stopped
    environment:
      - POSTGRES_USER=n8n
      - POSTGRES_PASSWORD=n8n
      - POSTGRES_DB=n8n
    volumes:
      - postgres_data:/var/lib/postgresql/data
    networks:
      - n8n-network

  redis:
    image: redis:7-alpine
    container_name: n8n_redis
    restart: unless-stopped
    volumes:
      - redis_data:/data
    networks:
      - n8n-network

volumes:
  n8n_data:
  postgres_data:
  redis_data:

networks:
  n8n-network:
    driver: bridge
```

#### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
```bash
#!/bin/bash
# setup-n8n.sh

echo "ğŸš€ n8nç’°å¢ƒæ§‹ç¯‰ã‚’é–‹å§‹..."

# 1. å¿…è¦ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
mkdir -p n8n-setup && cd n8n-setup
mkdir -p files workflows backups

# 2. ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
cat > .env << EOF
# åŸºæœ¬è¨­å®š
N8N_HOST=localhost
N8N_PORT=5678
N8N_PROTOCOL=http

# èªè¨¼è¨­å®š
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=$(openssl rand -base64 32)

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®š
DB_TYPE=postgresdb
DB_POSTGRESDB_DATABASE=n8n
DB_POSTGRESDB_HOST=postgres
DB_POSTGRESDB_PORT=5432
DB_POSTGRESDB_USER=n8n
DB_POSTGRESDB_PASSWORD=$(openssl rand -base64 32)

# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
N8N_ENCRYPTION_KEY=$(openssl rand -base64 32)

# AI API Keys
OPENAI_API_KEY=your-openai-key
ANTHROPIC_API_KEY=your-claude-key
GOOGLE_AI_API_KEY=your-gemini-key
EOF

# 3. Docker Composeèµ·å‹•
docker-compose up -d

# 4. ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
sleep 10
if curl -s http://localhost:5678/healthz | grep -q "ok"; then
  echo "âœ… n8nãŒæ­£å¸¸ã«èµ·å‹•ã—ã¾ã—ãŸï¼"
  echo "ğŸŒ http://localhost:5678 ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™"
  echo "ğŸ‘¤ ãƒ¦ãƒ¼ã‚¶ãƒ¼: admin"
  echo "ğŸ”‘ ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ .env ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªã—ã¦ãã ã•ã„"
else
  echo "âŒ èµ·å‹•ã«å¤±æ•—ã—ã¾ã—ãŸ"
  docker-compose logs
fi
```

#### æ–¹æ³•2: npmï¼ˆé–‹ç™ºç’°å¢ƒå‘ã‘ï¼‰
```bash
# ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install -g n8n

# èµ·å‹•
n8n start

# ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å®Ÿè¡Œ
n8n start --tunnel &

# PM2ã§ã®æ°¸ç¶šåŒ–
npm install -g pm2
pm2 start n8n
pm2 save
pm2 startup
```

#### æ–¹æ³•3: ã‚¯ãƒ©ã‚¦ãƒ‰ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°
```javascript
// Railway/Render/Herokuç”¨è¨­å®š
const cloudConfig = {
  railway: {
    // railway.app ã§ãƒ¯ãƒ³ã‚¯ãƒªãƒƒã‚¯ãƒ‡ãƒ—ãƒ­ã‚¤
    template: "https://railway.app/new/template/n8n",
    cost: "$5/æœˆã€œ",
    pros: "ç°¡å˜ã€è‡ªå‹•SSL",
    cons: "ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºåˆ¶é™"
  },
  
  render: {
    // render.com ã§ã®è¨­å®š
    service: "Web Service",
    environment: "Docker",
    plan: "Starter ($7/æœˆ)",
    autodeploy: true
  },
  
  selfHostVPS: {
    // VPSæ¨å¥¨ã‚¹ãƒšãƒƒã‚¯
    provider: "Vultr/DigitalOcean/Linode",
    specs: {
      CPU: "2 vCPU",
      RAM: "4GB",
      Storage: "80GB SSD",
      Cost: "$20/æœˆ"
    }
  }
};
```

---

## ğŸ¨ ç¬¬2ç« : n8nãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼é–‹ç™º

### åŸºæœ¬ãƒãƒ¼ãƒ‰ã®ä½¿ã„æ–¹

```javascript
// n8n-workflow-basics.js
const basicNodes = {
  // ãƒˆãƒªã‚¬ãƒ¼ãƒãƒ¼ãƒ‰
  triggers: {
    webhook: {
      description: "å¤–éƒ¨ã‹ã‚‰ã®HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã§èµ·å‹•",
      example: {
        url: "https://n8n.example.com/webhook/abc123",
        method: "POST",
        authentication: "Basic Auth"
      }
    },
    
    schedule: {
      description: "å®šæœŸå®Ÿè¡Œï¼ˆCronï¼‰",
      example: {
        pattern: "0 9 * * 1-5", // å¹³æ—¥9æ™‚
        timezone: "Asia/Tokyo"
      }
    },
    
    emailTrigger: {
      description: "ãƒ¡ãƒ¼ãƒ«å—ä¿¡ã§èµ·å‹•",
      protocol: "IMAP",
      pollInterval: 2 // åˆ†
    }
  },
  
  // ãƒ‡ãƒ¼ã‚¿å‡¦ç†ãƒãƒ¼ãƒ‰
  dataNodes: {
    httpRequest: {
      description: "APIã‚³ãƒ¼ãƒ«",
      methods: ["GET", "POST", "PUT", "DELETE"],
      authentication: ["None", "Basic", "OAuth2", "API Key"]
    },
    
    code: {
      description: "JavaScript/Pythonã‚³ãƒ¼ãƒ‰å®Ÿè¡Œ",
      example: `
        // ãƒ‡ãƒ¼ã‚¿å¤‰æ›ä¾‹
        const items = $input.all();
        return items.map(item => ({
          ...item.json,
          processed: true,
          timestamp: new Date().toISOString()
        }));
      `
    },
    
    database: {
      supported: ["PostgreSQL", "MySQL", "MongoDB", "Redis"],
      operations: ["Select", "Insert", "Update", "Delete"]
    }
  },
  
  // AI/MLãƒãƒ¼ãƒ‰
  aiNodes: {
    openAI: {
      models: ["gpt-4", "gpt-3.5-turbo", "dall-e-3"],
      operations: ["Chat", "Completion", "Image Generation"]
    },
    
    claude: {
      models: ["claude-3-opus", "claude-3-sonnet"],
      operations: ["Chat", "Analysis", "Code Generation"]
    },
    
    customAI: {
      description: "ã‚«ã‚¹ã‚¿ãƒ AIãƒ¢ãƒ‡ãƒ«çµ±åˆ",
      endpoints: "Any REST API"
    }
  }
};
```

### å®Ÿè·µãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼1: AIè¨˜äº‹è‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ 

```json
{
  "name": "AI Content Generator",
  "nodes": [
    {
      "id": "1",
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "hours",
              "hoursInterval": 6
            }
          ]
        }
      }
    },
    {
      "id": "2",
      "name": "Get Trending Topics",
      "type": "n8n-nodes-base.httpRequest",
      "parameters": {
        "url": "https://api.google.com/trends/daily",
        "authentication": "genericCredentialType",
        "genericAuthType": "apiKey"
      }
    },
    {
      "id": "3",
      "name": "Generate Article",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "parameters": {
        "model": "gpt-4",
        "prompt": {
          "system": "ã‚ãªãŸã¯SEOã«å¼·ã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒ©ã‚¤ã‚¿ãƒ¼ã§ã™",
          "user": "{{$json.topic}}ã«ã¤ã„ã¦2000æ–‡å­—ã®è¨˜äº‹ã‚’æ›¸ã„ã¦ãã ã•ã„"
        },
        "temperature": 0.7
      }
    },
    {
      "id": "4",
      "name": "Generate Images",
      "type": "@n8n/n8n-nodes-langchain.openAi",
      "parameters": {
        "resource": "image",
        "operation": "generate",
        "prompt": "{{$json.imagePrompt}}",
        "model": "dall-e-3"
      }
    },
    {
      "id": "5",
      "name": "WordPress Post",
      "type": "n8n-nodes-base.wordpress",
      "parameters": {
        "resource": "post",
        "operation": "create",
        "title": "={{$json.title}}",
        "content": "={{$json.content}}",
        "status": "publish",
        "featuredMedia": "={{$json.imageId}}"
      }
    },
    {
      "id": "6",
      "name": "Social Media Share",
      "type": "n8n-nodes-base.twitter",
      "parameters": {
        "text": "æ–°è¨˜äº‹å…¬é–‹ï¼\n{{$json.title}}\n{{$json.url}}\n\n#AI #è‡ªå‹•ç”Ÿæˆ",
        "additionalFields": {
          "attachments": ["={{$json.imageUrl}}"]
        }
      }
    }
  ]
}
```

### å®Ÿè·µãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼2: é¡§å®¢ã‚µãƒãƒ¼ãƒˆè‡ªå‹•åŒ–

```javascript
// customer-support-automation.js
const supportWorkflow = {
  name: "AI Customer Support System",
  
  nodes: [
    {
      type: "EmailTrigger",
      config: {
        mailbox: "support@company.com",
        filter: "UNSEEN"
      }
    },
    {
      type: "Code",
      name: "Classify Email",
      code: `
        const email = $input.item.json;
        const categories = {
          urgent: ['urgent', 'emergency', 'critical', 'asap'],
          technical: ['error', 'bug', 'not working', 'crashed'],
          billing: ['payment', 'invoice', 'charge', 'refund'],
          general: ['question', 'how to', 'help']
        };
        
        let category = 'general';
        let priority = 'normal';
        
        for (const [cat, keywords] of Object.entries(categories)) {
          if (keywords.some(keyword => 
            email.text.toLowerCase().includes(keyword))) {
            category = cat;
            if (cat === 'urgent') priority = 'high';
            break;
          }
        }
        
        return {
          ...email,
          category,
          priority
        };
      `
    },
    {
      type: "Switch",
      name: "Route by Category",
      rules: [
        {
          condition: "category === 'urgent'",
          output: "Urgent Handler"
        },
        {
          condition: "category === 'technical'",
          output: "Technical Support"
        },
        {
          condition: "category === 'billing'",
          output: "Billing Department"
        },
        {
          default: true,
          output: "AI Responder"
        }
      ]
    },
    {
      type: "OpenAI",
      name: "AI Responder",
      parameters: {
        model: "gpt-4",
        systemPrompt: `
          ã‚ãªãŸã¯è¦ªåˆ‡ãªã‚«ã‚¹ã‚¿ãƒãƒ¼ã‚µãƒãƒ¼ãƒˆã§ã™ã€‚
          ä»¥ä¸‹ã®ãƒ«ãƒ¼ãƒ«ã«å¾“ã£ã¦è¿”ä¿¡ã—ã¦ãã ã•ã„ï¼š
          1. ä¸å¯§ã§è¦ªã—ã¿ã‚„ã™ã„å¯¾å¿œ
          2. å…·ä½“çš„ãªè§£æ±ºç­–ã®æç¤º
          3. å¿…è¦ã«å¿œã˜ã¦æ‹…å½“è€…ã¸ã®å¼•ãç¶™ãã‚’ææ¡ˆ
        `,
        userPrompt: "{{$json.text}}"
      }
    },
    {
      type: "Gmail",
      name: "Send Reply",
      parameters: {
        to: "={{$json.from}}",
        subject: "Re: {{$json.subject}}",
        body: "={{$json.aiResponse}}",
        attachments: []
      }
    },
    {
      type: "Slack",
      name: "Notify Team",
      parameters: {
        channel: "#customer-support",
        text: `
          æ–°ã—ã„ã‚µãƒãƒ¼ãƒˆãƒªã‚¯ã‚¨ã‚¹ãƒˆ:
          From: {{$json.from}}
          Category: {{$json.category}}
          Priority: {{$json.priority}}
          Status: {{$json.status}}
        `
      }
    },
    {
      type: "GoogleSheets",
      name: "Log to Sheet",
      parameters: {
        sheetId: "1234567890",
        range: "Support_Log",
        values: [
          ["{{$json.timestamp}}", 
           "{{$json.from}}", 
           "{{$json.category}}",
           "{{$json.status}}"]
        ]
      }
    }
  ]
};
```

---

## ğŸ’° ç¬¬3ç« : åç›ŠåŒ–ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼é›†

### 1. ECã‚µã‚¤ãƒˆå®Œå…¨è‡ªå‹•åŒ–

```javascript
// ecommerce-automation.js
const ecommerceWorkflow = {
  name: "EC Complete Automation",
  
  workflows: {
    // æ³¨æ–‡å‡¦ç†è‡ªå‹•åŒ–
    orderProcessing: {
      trigger: "Shopify Webhook",
      steps: [
        "åœ¨åº«ç¢ºèª",
        "æ±ºæ¸ˆå‡¦ç†",
        "ç™ºé€æŒ‡ç¤º",
        "è¿½è·¡ç•ªå·ç™ºè¡Œ",
        "é¡§å®¢é€šçŸ¥",
        "ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¾é ¼ï¼ˆ7æ—¥å¾Œï¼‰"
      ],
      estimatedSaving: "æœˆ40æ™‚é–“"
    },
    
    // åœ¨åº«ç®¡ç†è‡ªå‹•åŒ–
    inventoryManagement: {
      trigger: "Daily at 10:00",
      steps: [
        "åœ¨åº«ãƒ¬ãƒ™ãƒ«ç¢ºèª",
        "å£²ä¸Šäºˆæ¸¬AIåˆ†æ",
        "è‡ªå‹•ç™ºæ³¨åˆ¤å®š",
        "ç™ºæ³¨æ›¸ä½œæˆ",
        "ã‚µãƒ—ãƒ©ã‚¤ãƒ¤ãƒ¼é€ä¿¡",
        "Slacké€šçŸ¥"
      ],
      code: `
        // åœ¨åº«äºˆæ¸¬ãƒ­ã‚¸ãƒƒã‚¯
        const currentStock = $node["Get Stock"].json;
        const salesHistory = $node["Sales Data"].json;
        
        // éå»30æ—¥ã®å¹³å‡è²©å£²æ•°
        const avgDailySales = salesHistory.reduce((sum, day) => 
          sum + day.quantity, 0) / 30;
        
        // åœ¨åº«æ—¥æ•°è¨ˆç®—
        const daysOfStock = currentStock.quantity / avgDailySales;
        
        // 7æ—¥åˆ†ã‚’ä¸‹å›ã£ãŸã‚‰ç™ºæ³¨
        if (daysOfStock < 7) {
          const orderQuantity = avgDailySales * 30; // 30æ—¥åˆ†ç™ºæ³¨
          return {
            needsReorder: true,
            quantity: Math.ceil(orderQuantity),
            supplier: currentStock.supplier,
            estimatedCost: orderQuantity * currentStock.unitCost
          };
        }
        
        return { needsReorder: false };
      `
    },
    
    // ä¾¡æ ¼æœ€é©åŒ–
    priceOptimization: {
      trigger: "Every 6 hours",
      steps: [
        "ç«¶åˆä¾¡æ ¼ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°",
        "éœ€è¦äºˆæ¸¬",
        "åˆ©ç›Šç‡è¨ˆç®—",
        "æœ€é©ä¾¡æ ¼æ±ºå®š",
        "è‡ªå‹•ä¾¡æ ¼æ›´æ–°"
      ],
      aiPrompt: `
        ä»¥ä¸‹ã®ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰æœ€é©ãªä¾¡æ ¼ã‚’ææ¡ˆ:
        - ç¾åœ¨ä¾¡æ ¼: {{currentPrice}}
        - ç«¶åˆä¾¡æ ¼: {{competitorPrices}}
        - åœ¨åº«æ•°: {{stock}}
        - éå»ã®è²©å£²ãƒ‡ãƒ¼ã‚¿: {{salesHistory}}
        - ç›®æ¨™åˆ©ç›Šç‡: 30%
        
        JSONå½¢å¼ã§è¿”ç­”:
        {
          "recommendedPrice": number,
          "reasoning": string,
          "expectedDemand": number,
          "profitMargin": number
        }
      `
    }
  }
};
```

### 2. ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ãƒãƒã‚¿ã‚¤ã‚ºè‡ªå‹•åŒ–

```python
# content_monetization.py
content_workflow = {
    "name": "Content Monetization Pipeline",
    
    "youtube_automation": {
        "steps": [
            {
                "name": "Trend Research",
                "tool": "YouTube API + Google Trends",
                "output": "trending_topics"
            },
            {
                "name": "Script Generation",
                "tool": "GPT-4",
                "prompt": """
                ãƒˆãƒ¬ãƒ³ãƒ‰ãƒˆãƒ”ãƒƒã‚¯: {topic}
                10åˆ†ã®å‹•ç”»ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆ:
                - ãƒ•ãƒƒã‚¯ï¼ˆæœ€åˆã®15ç§’ï¼‰
                - æœ¬ç·¨ï¼ˆ3ã¤ã®ã‚»ã‚¯ã‚·ãƒ§ãƒ³ï¼‰
                - CTAï¼ˆæœ€å¾Œã®30ç§’ï¼‰
                """
            },
            {
                "name": "Thumbnail Generation",
                "tool": "DALL-E 3",
                "prompt": "YouTube thumbnail: {title}, eye-catching, high CTR"
            },
            {
                "name": "Upload & Optimize",
                "tool": "YouTube API",
                "seo": {
                    "title": "{optimized_title}",
                    "description": "{seo_description}",
                    "tags": "{relevant_tags}"
                }
            },
            {
                "name": "Cross-Platform Share",
                "platforms": ["Twitter", "Instagram", "TikTok", "Facebook"],
                "timing": "optimal_times_by_platform"
            }
        ],
        
        "monetization": {
            "ad_revenue": "YouTube Partner Program",
            "affiliate": "Description links",
            "sponsorship": "Auto-negotiate with brands",
            "products": "Merch shelf integration"
        },
        
        "expected_revenue": "æœˆ50-100ä¸‡å††"
    },
    
    "blog_automation": {
        "daily_articles": 10,
        "workflow": [
            "Keyword research (Ahrefs API)",
            "Content generation (Claude 3)",
            "Image creation (Midjourney)",
            "SEO optimization",
            "WordPress publish",
            "Social media distribution"
        ],
        
        "monetization": {
            "adsense": "æœˆ20ä¸‡å††",
            "affiliate": "æœˆ30ä¸‡å††",
            "sponsored": "æœˆ50ä¸‡å††"
        }
    }
}
```

### 3. SaaSé‹å–¶è‡ªå‹•åŒ–

```typescript
// saas-automation.ts
interface SaaSAutomation {
  userLifecycle: {
    onboarding: WorkflowNode[];
    engagement: WorkflowNode[];
    retention: WorkflowNode[];
    churn: WorkflowNode[];
  };
  billing: {
    subscription: WorkflowNode[];
    dunning: WorkflowNode[];
    upgrades: WorkflowNode[];
  };
  support: {
    ticketing: WorkflowNode[];
    knowledge: WorkflowNode[];
  };
}

const saasWorkflow: SaaSAutomation = {
  userLifecycle: {
    onboarding: [
      {
        trigger: "User Signup",
        actions: [
          "Send welcome email",
          "Create Stripe customer",
          "Setup default workspace",
          "Schedule onboarding call",
          "Track activation metrics"
        ]
      },
      {
        trigger: "Day 1",
        condition: "!user.hasCompletedSetup",
        actions: [
          "Send setup reminder",
          "Offer live chat support"
        ]
      },
      {
        trigger: "Day 3",
        condition: "user.usage < 10",
        actions: [
          "Send use case examples",
          "Provide video tutorial"
        ]
      },
      {
        trigger: "Day 7",
        actions: [
          "Request feedback",
          "Offer premium trial"
        ]
      }
    ],
    
    engagement: [
      {
        trigger: "Weekly",
        actions: [
          "Calculate usage metrics",
          "Send personalized tips",
          "Highlight new features"
        ]
      }
    ],
    
    retention: [
      {
        trigger: "Low usage detected",
        condition: "usage < threshold * 0.5",
        actions: [
          "Send re-engagement email",
          "Offer consultation",
          "Provide success stories"
        ]
      }
    ],
    
    churn: [
      {
        trigger: "Cancellation request",
        actions: [
          "Send retention offer",
          "Request feedback",
          "Offer pause instead",
          "Process if confirmed"
        ]
      }
    ]
  },
  
  billing: {
    subscription: [
      {
        trigger: "Monthly",
        actions: [
          "Generate invoice",
          "Process payment",
          "Send receipt",
          "Update credits/limits"
        ]
      }
    ],
    
    dunning: [
      {
        trigger: "Payment failed",
        actions: [
          "Retry payment (3x)",
          "Send notification",
          "Grace period (7 days)",
          "Suspend if unresolved"
        ]
      }
    ],
    
    upgrades: [
      {
        trigger: "Usage > plan_limit * 0.8",
        actions: [
          "Send upgrade suggestion",
          "Show ROI calculation",
          "Offer trial of higher plan"
        ]
      }
    ]
  },
  
  support: {
    ticketing: [
      {
        trigger: "New ticket",
        actions: [
          "Categorize with AI",
          "Check knowledge base",
          "Auto-respond if possible",
          "Assign to agent",
          "Set SLA timer"
        ]
      }
    ],
    
    knowledge: [
      {
        trigger: "Frequent question detected",
        actions: [
          "Create KB article draft",
          "Review and publish",
          "Update chatbot training"
        ]
      }
    ]
  }
};
```

---

## ğŸ› ï¸ ç¬¬4ç« : é«˜åº¦ãªçµ±åˆãƒ†ã‚¯ãƒ‹ãƒƒã‚¯

### APIçµ±åˆãƒã‚¹ã‚¿ãƒ¼

```javascript
// advanced-api-integration.js
const apiIntegrations = {
  // ã‚«ã‚¹ã‚¿ãƒ APIçµ±åˆ
  customAPI: {
    node: "HTTP Request",
    authentication: {
      bearer: {
        token: "{{$credentials.apiToken}}",
        header: "Authorization: Bearer {{token}}"
      },
      oauth2: {
        grantType: "authorization_code",
        authUrl: "https://api.example.com/oauth/authorize",
        accessTokenUrl: "https://api.example.com/oauth/token",
        scope: "read write"
      },
      apiKey: {
        header: "X-API-Key: {{$credentials.apiKey}}",
        query: "?api_key={{$credentials.apiKey}}"
      }
    },
    
    errorHandling: `
      try {
        const response = await $http.request(options);
        return response;
      } catch (error) {
        if (error.response?.status === 429) {
          // ãƒ¬ãƒ¼ãƒˆåˆ¶é™å¯¾ç­–
          await $wait(60000); // 1åˆ†å¾…æ©Ÿ
          return $self.runOnce(); // ãƒªãƒˆãƒ©ã‚¤
        }
        throw error;
      }
    `,
    
    pagination: `
      let allItems = [];
      let page = 1;
      let hasMore = true;
      
      while (hasMore) {
        const response = await $http.get({
          url: \`https://api.example.com/items?page=\${page}\`,
          headers: { 'Authorization': 'Bearer ' + $credentials.token }
        });
        
        allItems = allItems.concat(response.data.items);
        hasMore = response.data.hasNextPage;
        page++;
        
        if (page > 100) break; // å®‰å…¨å¯¾ç­–
      }
      
      return allItems;
    `
  },
  
  // Webhookå—ä¿¡
  webhookReceiver: {
    security: {
      ipWhitelist: ["192.168.1.0/24"],
      signature: `
        const crypto = require('crypto');
        const signature = $headers['x-webhook-signature'];
        const body = JSON.stringify($input.item.json);
        const hash = crypto
          .createHmac('sha256', $credentials.webhookSecret)
          .update(body)
          .digest('hex');
        
        if (signature !== hash) {
          throw new Error('Invalid signature');
        }
      `,
      rateLimiting: {
        maxRequests: 100,
        window: "1m"
      }
    }
  }
};
```

### ãƒ‡ãƒ¼ã‚¿å¤‰æ›ãƒ†ã‚¯ãƒ‹ãƒƒã‚¯

```javascript
// data-transformation.js
const transformationPatterns = {
  // CSVã‹ã‚‰JSONã¸ã®å¤‰æ›
  csvToJson: `
    const Papa = require('papaparse');
    const csvData = $input.item.binary.data.toString();
    
    const result = Papa.parse(csvData, {
      header: true,
      dynamicTyping: true,
      skipEmptyLines: true
    });
    
    return result.data.map(row => ({
      json: row
    }));
  `,
  
  // ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ¬ãƒ³ã‚¸ãƒ³ã‚°
  dataClean: `
    const items = $input.all();
    
    return items.map(item => {
      const cleaned = {};
      
      for (const [key, value] of Object.entries(item.json)) {
        // null/undefinedé™¤å»
        if (value == null) continue;
        
        // ç©ºæ–‡å­—åˆ—é™¤å»
        if (value === '') continue;
        
        // ãƒˆãƒªãƒŸãƒ³ã‚°
        if (typeof value === 'string') {
          cleaned[key] = value.trim();
        } else {
          cleaned[key] = value;
        }
      }
      
      return { json: cleaned };
    }).filter(item => Object.keys(item.json).length > 0);
  `,
  
  // ãƒ‡ãƒ¼ã‚¿é›†è¨ˆ
  aggregation: `
    const items = $input.all();
    
    const aggregated = items.reduce((acc, item) => {
      const key = item.json.category;
      
      if (!acc[key]) {
        acc[key] = {
          count: 0,
          total: 0,
          items: []
        };
      }
      
      acc[key].count++;
      acc[key].total += item.json.amount;
      acc[key].items.push(item.json);
      
      return acc;
    }, {});
    
    return Object.entries(aggregated).map(([key, value]) => ({
      json: {
        category: key,
        ...value,
        average: value.total / value.count
      }
    }));
  `
};
```

---

## ğŸ“ˆ ç¬¬5ç« : ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–

### ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æœ€é©åŒ–

```javascript
// workflow-optimization.js
const optimizationStrategies = {
  // ä¸¦åˆ—å‡¦ç†
  parallelProcessing: {
    description: "è¤‡æ•°ã®å‡¦ç†ã‚’åŒæ™‚å®Ÿè¡Œ",
    example: {
      split: "Split In Batches node",
      parallel: "Set parallel: true in node settings",
      merge: "Merge node to combine results"
    },
    performance: "3-5å€é«˜é€ŸåŒ–"
  },
  
  // ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°
  caching: {
    code: `
      // ãƒ¡ãƒ¢ãƒªã‚­ãƒ£ãƒƒã‚·ãƒ¥
      const cache = $getWorkflowStaticData('cache');
      const cacheKey = \`data_\${$json.id}\`;
      
      if (cache[cacheKey] && cache[cacheKey].expires > Date.now()) {
        return cache[cacheKey].data;
      }
      
      // ãƒ‡ãƒ¼ã‚¿å–å¾—å‡¦ç†
      const data = await fetchData($json.id);
      
      // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä¿å­˜ï¼ˆ1æ™‚é–“ï¼‰
      cache[cacheKey] = {
        data: data,
        expires: Date.now() + 3600000
      };
      
      $setWorkflowStaticData('cache', cache);
      return data;
    `
  },
  
  // ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
  errorHandling: {
    retry: {
      maxAttempts: 3,
      waitBetweenTries: 5000,
      backoffRate: 2
    },
    
    fallback: `
      try {
        // ãƒ¡ã‚¤ãƒ³å‡¦ç†
        return await mainProcess();
      } catch (error) {
        // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†
        console.error('Main process failed:', error);
        return await fallbackProcess();
      }
    `
  },
  
  // ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†
  resourceManagement: {
    memoryLimit: "Set NODE_OPTIONS=--max-old-space-size=4096",
    execution: {
      timeout: 300, // ç§’
      maxExecutionTime: 3600 // ç§’
    }
  }
};
```

---

## ğŸ’° ç¬¬6ç« : åç›ŠåŒ–äº‹ä¾‹

### æœˆå200ä¸‡å††é”æˆäº‹ä¾‹

```javascript
const successCase = {
  business: "ECã‚³ãƒ³ã‚µãƒ«ãƒ†ã‚£ãƒ³ã‚°",
  
  services: {
    basic: {
      price: 50000,
      content: "n8nåŸºæœ¬ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—",
      clients: 10
    },
    standard: {
      price: 200000,
      content: "å®Œå…¨è‡ªå‹•åŒ–ã‚·ã‚¹ãƒ†ãƒ æ§‹ç¯‰",
      clients: 5
    },
    premium: {
      price: 500000,
      content: "ã‚«ã‚¹ã‚¿ãƒ ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼é–‹ç™º",
      clients: 1
    }
  },
  
  monthlyRevenue: 2000000,
  
  deliverables: [
    "æ³¨æ–‡å‡¦ç†è‡ªå‹•åŒ–",
    "åœ¨åº«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ ",
    "é¡§å®¢å¯¾å¿œAI",
    "ãƒãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°è‡ªå‹•åŒ–",
    "ãƒ¬ãƒãƒ¼ãƒˆè‡ªå‹•ç”Ÿæˆ"
  ],
  
  timeInvestment: "é€±20æ™‚é–“",
  profitMargin: "80%"
};
```

---

## ğŸ¯ ç¬¬7ç« : ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºç­–

```javascript
const troubleshooting = {
  "ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒå‹•ã‹ãªã„": {
    åŸå› : ["ãƒãƒ¼ãƒ‰è¨­å®šãƒŸã‚¹", "èªè¨¼ã‚¨ãƒ©ãƒ¼", "ãƒ‡ãƒ¼ã‚¿å½¢å¼ä¸ä¸€è‡´"],
    è¨ºæ–­: `
      1. å„ãƒãƒ¼ãƒ‰ã‚’å€‹åˆ¥ã«å®Ÿè¡Œã—ã¦ã‚¨ãƒ©ãƒ¼ç®‡æ‰€ç‰¹å®š
      2. Execute Previous Nodesã§å‰ãƒãƒ¼ãƒ‰ã®ãƒ‡ãƒ¼ã‚¿ç¢ºèª
      3. Console.logã§ãƒ‡ãƒãƒƒã‚°å‡ºåŠ›
    `,
    è§£æ±º: "ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è©³ç´°ã«ç¢ºèª"
  },
  
  "ãƒ¡ãƒ¢ãƒªä¸è¶³": {
    åŸå› : "å¤§é‡ãƒ‡ãƒ¼ã‚¿å‡¦ç†",
    è§£æ±º: `
      # ãƒ¡ãƒ¢ãƒªå‰²ã‚Šå½“ã¦å¢—åŠ 
      export NODE_OPTIONS="--max-old-space-size=8192"
      
      # ã¾ãŸã¯ãƒãƒƒãƒå‡¦ç†åŒ–
      Split In Batches nodeã§åˆ†å‰²å‡¦ç†
    `
  },
  
  "å®Ÿè¡ŒãŒé…ã„": {
    æœ€é©åŒ–: [
      "ä¸è¦ãªãƒãƒ¼ãƒ‰å‰Šé™¤",
      "ä¸¦åˆ—å‡¦ç†åŒ–",
      "ã‚­ãƒ£ãƒƒã‚·ãƒ³ã‚°å®Ÿè£…",
      "ãƒ‡ãƒ¼ã‚¿é‡å‰Šæ¸›"
    ]
  }
};
```

---

## ğŸš€ ä»Šã™ãå§‹ã‚ã‚‹

```bash
# 10åˆ†ã§n8nç’°å¢ƒæ§‹ç¯‰
docker run -it --rm \
  --name n8n \
  -p 5678:5678 \
  -v ~/.n8n:/home/node/.n8n \
  n8nio/n8n

# ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ã‚¯ã‚»ã‚¹
open http://localhost:5678
```

---

*æœ€çµ‚æ›´æ–°: 2025å¹´1æœˆ*
*ãƒãƒ¼ã‚¸ãƒ§ãƒ³: 2.0*

**n8nã§è‡ªå‹•åŒ–ã®é­”æ³•ã‚’ä½“é¨“ã—ã‚ˆã†ï¼**