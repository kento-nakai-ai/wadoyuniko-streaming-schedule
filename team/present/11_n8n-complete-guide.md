# ã€ç‰¹å…¸ã€‘n8nå®Œå…¨æ”»ç•¥ã‚¬ã‚¤ãƒ‰
## ãƒŽãƒ¼ã‚³ãƒ¼ãƒ‰è‡ªå‹•åŒ–ã®æœ€å‰ç·šï¼n8nã§æ¥­å‹™åŠ¹çŽ‡ã‚’1000%å‘ä¸Šã•ã›ã‚‹å®Ÿè·µãƒžãƒ‹ãƒ¥ã‚¢ãƒ«

---

## ðŸŽ¯ ã“ã®ã‚¬ã‚¤ãƒ‰ã®ä¾¡å€¤

### n8nè‡ªå‹•åŒ–ã®å¨åŠ›

**Beforeï¼ˆæ‰‹å‹•æ¥­å‹™ï¼‰**
```bash
ãƒ‡ãƒ¼ã‚¿åŽé›†: 2æ™‚é–“/æ—¥
ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ: 3æ™‚é–“/æ—¥  
é¡§å®¢å¯¾å¿œ: 4æ™‚é–“/æ—¥
åˆè¨ˆ: 9æ™‚é–“/æ—¥ã®æ‰‹ä½œæ¥­
```

**Afterï¼ˆn8nè‡ªå‹•åŒ–ï¼‰**
```bash
ãƒ‡ãƒ¼ã‚¿åŽé›†: è‡ªå‹•å®Ÿè¡Œï¼ˆ0åˆ†ï¼‰
ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ: è‡ªå‹•ç”Ÿæˆï¼ˆ0åˆ†ï¼‰
é¡§å®¢å¯¾å¿œ: AIè‡ªå‹•å¿œç­”ï¼ˆ0åˆ†ï¼‰  
åˆè¨ˆ: 5åˆ†/æ—¥ã®ç¢ºèªä½œæ¥­ã®ã¿
```

**ç”Ÿç”£æ€§å‘ä¸Š: 10,000%ï¼æ™‚é–“å‰µå‡º: 8.9æ™‚é–“/æ—¥**

### n8n Ã— AI Ã— Claude Code ã®ç©¶æ¥µé€£æº

```mermaid
graph TB
    subgraph "æˆ¦ç•¥å±¤"
        CEO[ðŸŽ¯ CEO - è‡ªå‹•åŒ–æˆ¦ç•¥]
        PM[ðŸ“‹ PM - ãƒ—ãƒ­ã‚»ã‚¹è¨­è¨ˆ]
    end

    subgraph "n8nè‡ªå‹•åŒ–å±¤"
        N8N[âš¡ n8n Workflows]
        AI[ðŸ¤– AI Integration]
        API[ðŸ”— API Connections]
    end

    subgraph "å®Ÿè¡Œå±¤"
        Slack[ðŸ’¬ Slacké€šçŸ¥]
        Email[ðŸ“§ Emailè‡ªå‹•é€ä¿¡]  
        DB[ðŸ“Š Databaseæ›´æ–°]
        Report[ðŸ“ˆ ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ]
    end

    CEO --> PM
    PM --> N8N
    N8N --> AI
    N8N --> API
    AI --> Slack
    API --> Email
    N8N --> DB
    N8N --> Report
```

---

## ðŸ“‚ ç›®æ¬¡

1. [n8nåŸºç¤Žã¨ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#n8nåŸºç¤Žã¨ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
2. [ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­è¨ˆã®åŽŸå‰‡](#ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­è¨ˆã®åŽŸå‰‡)
3. [AIçµ±åˆã®å®Ÿè·µ](#aiçµ±åˆã®å®Ÿè·µ)
4. [Claude Codeé€£æº](#claude-codeé€£æº)
5. [é«˜åº¦ãªè‡ªå‹•åŒ–ãƒ‘ã‚¿ãƒ¼ãƒ³](#é«˜åº¦ãªè‡ªå‹•åŒ–ãƒ‘ã‚¿ãƒ¼ãƒ³)
6. [ãƒ“ã‚¸ãƒã‚¹æ´»ç”¨äº‹ä¾‹](#ãƒ“ã‚¸ãƒã‚¹æ´»ç”¨äº‹ä¾‹)
7. [é‹ç”¨ãƒ»ç›£è¦–ãƒ»æœ€é©åŒ–](#é‹ç”¨ç›£è¦–æœ€é©åŒ–)

---

## ðŸš€ n8nåŸºç¤Žã¨ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### n8nã¨ã¯ï¼Ÿ

**n8n**ã¯æœ€ã‚‚å¼·åŠ›ãªã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ãƒ»ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è‡ªå‹•åŒ–ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ã€‚

#### ðŸŒŸ n8nã®å„ªä½æ€§

| æ©Ÿèƒ½ | Zapier | Make.com | **n8n** | å„ªä½æ€§ |
|------|--------|----------|---------|--------|
| **ã‚³ã‚¹ãƒˆ** | $20-599/æœˆ | $9-299/æœˆ | **ç„¡æ–™-$50/æœˆ** | **90%å‰Šæ¸›** |
| **ã‚«ã‚¹ã‚¿ãƒžã‚¤ã‚ºæ€§** | åˆ¶é™ã‚ã‚Š | åˆ¶é™ã‚ã‚Š | **ç„¡åˆ¶é™** | **å®Œå…¨è‡ªç”±** |
| **AIçµ±åˆ** | åŸºæœ¬çš„ | åŸºæœ¬çš„ | **é«˜åº¦** | **æœ€å…ˆç«¯** |
| **ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆé‹ç”¨** | âŒ | âŒ | **âœ…** | **å®Œå…¨åˆ¶å¾¡** |
| **ãƒŽãƒ¼ãƒ‰æ•°** | 5,000+ | 1,400+ | **1,000+æ‹¡å¼µå¯èƒ½** | **ç„¡é™æ‹¡å¼µ** |

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¨åˆæœŸè¨­å®š

#### ðŸ³ Dockerç’°å¢ƒã§ã®æ§‹ç¯‰ï¼ˆæŽ¨å¥¨ï¼‰

```bash
# Docker Composeè¨­å®š
cat > docker-compose.yml << 'EOF'
version: '3.8'
services:
  n8n:
    image: n8nio/n8n:latest
    container_name: n8n
    restart: always
    ports:
      - "5678:5678"
    environment:
      - N8N_BASIC_AUTH_ACTIVE=true
      - N8N_BASIC_AUTH_USER=admin
      - N8N_BASIC_AUTH_PASSWORD=secure_password_2024
      - N8N_HOST=localhost
      - N8N_PORT=5678
      - N8N_PROTOCOL=http
      - WEBHOOK_URL=http://localhost:5678/
      - N8N_ENCRYPTION_KEY=your-secret-encryption-key-32chars
      - DB_TYPE=postgresdb
      - DB_POSTGRESDB_HOST=postgres
      - DB_POSTGRESDB_PORT=5432
      - DB_POSTGRESDB_DATABASE=n8n
      - DB_POSTGRESDB_USER=n8n
      - DB_POSTGRESDB_PASSWORD=n8n_password
    volumes:
      - n8n_data:/home/node/.n8n
      - ./custom-nodes:/home/node/.n8n/custom
    depends_on:
      - postgres
    networks:
      - n8n_network

  postgres:
    image: postgres:14
    container_name: n8n-postgres
    restart: always
    environment:
      POSTGRES_DB: n8n
      POSTGRES_USER: n8n
      POSTGRES_PASSWORD: n8n_password
    volumes:
      - postgres_data:/var/lib/postgresql/data
    networks:
      - n8n_network

volumes:
  n8n_data:
  postgres_data:

networks:
  n8n_network:
    driver: bridge
EOF

# èµ·å‹•
docker-compose up -d

# èµ·å‹•ç¢ºèª
docker-compose logs n8n
```

#### âš¡ ã‚¯ãƒ©ã‚¦ãƒ‰ç’°å¢ƒæ§‹ç¯‰

```bash
# n8n Cloudï¼ˆæœ€é€Ÿã‚¹ã‚¿ãƒ¼ãƒˆï¼‰
# https://n8n.cloud
# - 1åˆ†ã§ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†
# - è‡ªå‹•ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°
# - 99.9%ç¨¼åƒä¿è¨¼

# Railway.app ãƒ‡ãƒ—ãƒ­ã‚¤
railway login
railway new --template n8n

# Heroku ãƒ‡ãƒ—ãƒ­ã‚¤  
git clone https://github.com/n8nio/n8n-heroku
cd n8n-heroku
heroku create your-n8n-app
git push heroku main
```

#### ðŸ”§ é«˜åº¦ãªè¨­å®š

```javascript
// n8nè¨­å®šãƒ•ã‚¡ã‚¤ãƒ« (.n8n/config/index.js)
module.exports = {
  // ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹æœ€é©åŒ–
  executions: {
    // åŒæ™‚å®Ÿè¡Œæ•°
    concurrency: 50,
    // ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š
    timeout: 300,
    // æœ€å¤§ãƒ¡ãƒ¢ãƒª
    maxMemory: '2GB'
  },

  // ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š
  security: {
    basicAuth: {
      active: true,
      user: process.env.N8N_BASIC_AUTH_USER,
      password: process.env.N8N_BASIC_AUTH_PASSWORD
    },
    // JWTè¨­å®š
    jwt: {
      secret: process.env.N8N_JWT_SECRET
    }
  },

  // AIçµ±åˆè¨­å®š
  ai: {
    openai: {
      apiKey: process.env.OPENAI_API_KEY,
      model: 'gpt-4',
      maxTokens: 4000
    },
    anthropic: {
      apiKey: process.env.ANTHROPIC_API_KEY,
      model: 'claude-3-sonnet'
    }
  },

  // ãƒ­ã‚°è¨­å®š
  logs: {
    level: 'info',
    output: ['console', 'file'],
    file: {
      location: './logs/',
      maxSize: '10m',
      maxFiles: '7d'
    }
  }
};
```

### åˆå›žã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—å®Œäº†ãƒã‚§ãƒƒã‚¯

```bash
# ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
curl http://localhost:5678/healthz

# ç®¡ç†ç”»é¢ã‚¢ã‚¯ã‚»ã‚¹
open http://localhost:5678

# åˆæœŸè¨­å®šç¢ºèªé …ç›®
âœ… ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹
âœ… ç®¡ç†è€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³å¯èƒ½  
âœ… ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ä½œæˆç”»é¢ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½
âœ… åŸºæœ¬ãƒŽãƒ¼ãƒ‰ï¼ˆHTTP Requestç­‰ï¼‰ãŒåˆ©ç”¨å¯èƒ½
```

---

## ðŸŽ¨ ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­è¨ˆã®åŽŸå‰‡

### è¨­è¨ˆæ€æƒ³ã¨æœ€é©åŒ–æˆ¦ç•¥

#### ðŸ—ï¸ ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­è¨ˆã®5åŽŸå‰‡

```markdown
## 1. å˜ä¸€è²¬ä»»ã®åŽŸå‰‡
- 1ã¤ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ = 1ã¤ã®æ˜Žç¢ºãªç›®çš„
- è¤‡é›‘ãªå‡¦ç†ã¯å°ã•ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«åˆ†å‰²

## 2. å†åˆ©ç”¨æ€§ã®åŽŸå‰‡  
- å…±é€šå‡¦ç†ã¯ã‚µãƒ–ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã¨ã—ã¦ç‹¬ç«‹
- ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åŒ–ã§æŸ”è»Ÿæ€§ã‚’ç¢ºä¿

## 3. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®åŽŸå‰‡
- ã™ã¹ã¦ã®é‡è¦ãªãƒŽãƒ¼ãƒ‰ã«ã‚¨ãƒ©ãƒ¼å‡¦ç†
- å¤±æ•—æ™‚ã®ä»£æ›¿ãƒ‘ã‚¹ã‚’ç”¨æ„

## 4. ç›£è¦–å¯èƒ½æ€§ã®åŽŸå‰‡
- ãƒ­ã‚°å‡ºåŠ›ã‚’é©åˆ‡ã«é…ç½®
- é€²æ—çŠ¶æ³ã‚’å¯è¦–åŒ–

## 5. åŠ¹çŽ‡æ€§ã®åŽŸå‰‡
- ä¸è¦ãªå‡¦ç†ã‚’å‰Šé™¤
- ä¸¦åˆ—å‡¦ç†ã‚’ç©æ¥µæ´»ç”¨
```

#### ðŸ“Š ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­è¨ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

```mermaid
graph TD
    A[Trigger] --> B[Input Validation]
    B --> C[Authentication]
    C --> D[Main Processing]
    D --> E{Success?}
    E -->|Yes| F[Success Actions]
    E -->|No| G[Error Handling]
    F --> H[Notification]
    G --> H
    H --> I[Logging]
    I --> J[End]
```

### å®Ÿè·µçš„ãªè¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³

#### ðŸ”„ ãƒ‡ãƒ¼ã‚¿å‡¦ç†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³

```javascript
// é«˜åŠ¹çŽ‡ãƒ‡ãƒ¼ã‚¿å‡¦ç†ãƒ‘ã‚¿ãƒ¼ãƒ³
const dataProcessingWorkflow = {
  name: "é«˜åŠ¹çŽ‡ãƒ‡ãƒ¼ã‚¿å‡¦ç†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³",
  nodes: [
    // 1. ãƒ‡ãƒ¼ã‚¿å–å¾—ï¼ˆä¸¦åˆ—å®Ÿè¡Œï¼‰
    {
      type: "n8n-nodes-base.httpRequest",
      name: "API Data Fetch",
      parameters: {
        url: "{{$env.DATA_API_URL}}",
        method: "GET",
        options: {
          timeout: 30000,
          retry: {
            enabled: true,
            times: 3
          }
        }
      }
    },
    
    // 2. ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼ãƒ»ã‚¯ãƒ¬ãƒ³ã‚¸ãƒ³ã‚°
    {
      type: "n8n-nodes-base.code",
      name: "Data Validation",
      parameters: {
        jsCode: `
          // ãƒ‡ãƒ¼ã‚¿å“è³ªãƒã‚§ãƒƒã‚¯
          const validateData = (item) => {
            if (!item.id || !item.email) {
              throw new Error('å¿…é ˆãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒä¸è¶³');
            }
            
            // ãƒ¡ãƒ¼ãƒ«å½¢å¼æ¤œè¨¼
            const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;
            if (!emailRegex.test(item.email)) {
              throw new Error('ç„¡åŠ¹ãªãƒ¡ãƒ¼ãƒ«å½¢å¼');
            }
            
            return {
              ...item,
              email: item.email.toLowerCase(),
              processedAt: new Date().toISOString()
            };
          };
          
          return $input.all().map(validateData);
        `
      }
    },

    // 3. ä¸¦åˆ—å‡¦ç†åˆ†å²
    {
      type: "n8n-nodes-base.split",
      name: "Parallel Processing",
      parameters: {
        batchSize: 50,
        parallel: true
      }
    },

    // 4. AIå‡¦ç†çµ±åˆ
    {
      type: "n8n-nodes-base.openAi",
      name: "AI Enhancement",
      parameters: {
        model: "gpt-4",
        prompt: `
          ä»¥ä¸‹ã®ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æžã—ã¦ã€é¡§å®¢ã‚»ã‚°ãƒ¡ãƒ³ãƒˆã‚’åˆ¤å®šã—ã¦ãã ã•ã„ï¼š
          {{$json.customerData}}
          
          å‡ºåŠ›å½¢å¼ï¼š
          - segment: "Premium" | "Standard" | "Basic"
          - confidence: 0-1ã®æ•°å€¤
          - reason: åˆ¤å®šç†ç”±
        `,
        maxTokens: 500
      }
    }
  ]
};
```

#### ðŸ¤– AIçµ±åˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼

```javascript
// AIé§†å‹•ã®è‡ªå‹•å¿œç­”ã‚·ã‚¹ãƒ†ãƒ 
const aiResponseWorkflow = {
  name: "AIè‡ªå‹•å¿œç­”ã‚·ã‚¹ãƒ†ãƒ ",
  trigger: {
    type: "webhook",
    path: "/customer-inquiry"
  },
  
  flow: [
    // 1. é¡§å®¢å•ã„åˆã‚ã›åˆ†æž
    {
      name: "Inquiry Analysis",
      type: "openai",
      config: {
        model: "gpt-4",
        systemPrompt: `
          ã‚ãªãŸã¯å„ªç§€ãªã‚«ã‚¹ã‚¿ãƒžãƒ¼ã‚µãƒãƒ¼ãƒˆåˆ†æžAIã§ã™ã€‚
          
          é¡§å®¢ã®å•ã„åˆã‚ã›ã‚’ä»¥ä¸‹ã®è¦³ç‚¹ã§åˆ†æžã—ã¦ãã ã•ã„ï¼š
          1. å•ã„åˆã‚ã›ã‚«ãƒ†ã‚´ãƒªï¼ˆæŠ€è¡“ã€è«‹æ±‚ã€ä¸€èˆ¬ï¼‰
          2. ç·Šæ€¥åº¦ï¼ˆé«˜ã€ä¸­ã€ä½Žï¼‰
          3. æ„Ÿæƒ…åˆ†æžï¼ˆãƒã‚¸ãƒ†ã‚£ãƒ–ã€ãƒ‹ãƒ¥ãƒ¼ãƒˆãƒ©ãƒ«ã€ãƒã‚¬ãƒ†ã‚£ãƒ–ï¼‰
          4. æŽ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
          
          JSONå½¢å¼ã§å‡ºåŠ›ã—ã¦ãã ã•ã„ã€‚
        `,
        userPrompt: "{{$json.inquiry}}"
      }
    },

    // 2. æ¡ä»¶åˆ†å²ã«ã‚ˆã‚‹å¯¾å¿œ
    {
      name: "Response Router",
      type: "switch",
      conditions: [
        {
          condition: "{{$json.urgency === 'high'}}",
          route: "immediate_response"
        },
        {
          condition: "{{$json.category === 'technical'}}",
          route: "technical_support"
        },
        {
          condition: "{{$json.sentiment === 'negative'}}",
          route: "escalation"
        }
      ],
      default: "standard_response"
    },

    // 3. AIå¿œç­”ç”Ÿæˆ
    {
      name: "Generate Response",
      type: "openai",
      config: {
        model: "gpt-4",
        systemPrompt: `
          é¡§å®¢ã«å¯¾ã™ã‚‹ä¸å¯§ã§æœ‰ç”¨ãªå›žç­”ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„ã€‚
          
          ã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ï¼š
          - è¦ªã—ã¿ã‚„ã™ãå°‚é–€çš„ãªå£èª¿
          - å…·ä½“çš„ã§å®Ÿè¡Œå¯èƒ½ãªã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³
          - å¿…è¦ã«å¿œã˜ã¦æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’æç¤º
          - 200-400æ–‡å­—ç¨‹åº¦
        `,
        userPrompt: `
          å•ã„åˆã‚ã›å†…å®¹: {{$json.inquiry}}
          ã‚«ãƒ†ã‚´ãƒª: {{$json.category}}
          ç·Šæ€¥åº¦: {{$json.urgency}}
        `
      }
    }
  ]
};
```

---

## ðŸ¤– AIçµ±åˆã®å®Ÿè·µ

### OpenAI GPT-4çµ±åˆ

#### ðŸ§  é«˜åº¦ãªAIãƒ—ãƒ­ãƒ³ãƒ—ãƒˆè¨­è¨ˆ

```javascript
// ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ãƒªãƒ³ã‚°ãƒ»ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
const advancedAIPrompts = {
  // ãƒ‡ãƒ¼ã‚¿åˆ†æžç‰¹åŒ–ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
  dataAnalysis: {
    systemPrompt: `
      ã‚ãªãŸã¯çµŒé¨“è±Šå¯Œãªãƒ‡ãƒ¼ã‚¿ã‚¢ãƒŠãƒªã‚¹ãƒˆã§ã™ã€‚
      
      æä¾›ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æžã—ã€ä»¥ä¸‹ã®å½¢å¼ã§æ´žå¯Ÿã‚’æä¾›ã—ã¦ãã ã•ã„ï¼š
      
      ## ðŸ“Š ãƒ‡ãƒ¼ã‚¿ã‚µãƒžãƒªãƒ¼
      - ç·ãƒ¬ã‚³ãƒ¼ãƒ‰æ•°
      - ãƒ‡ãƒ¼ã‚¿æœŸé–“
      - ä¸»è¦æŒ‡æ¨™
      
      ## ðŸ“ˆ ãƒˆãƒ¬ãƒ³ãƒ‰åˆ†æž
      - ä¸»è¦ãƒˆãƒ¬ãƒ³ãƒ‰ï¼ˆ3ã¤ä»¥å†…ï¼‰
      - å‰æœŸæ¯”å¤‰åŒ–çŽ‡
      - ç‰¹ç•°ç‚¹ã®ç‰¹å®š
      
      ## ðŸ’¡ ãƒ“ã‚¸ãƒã‚¹æ´žå¯Ÿ
      - ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ—ãƒ©ãƒ³ï¼ˆå„ªå…ˆåº¦ä»˜ãï¼‰
      - ãƒªã‚¹ã‚¯è¦å› 
      - æ©Ÿä¼šã®ç‰¹å®š
      
      ## ðŸŽ¯ æŽ¨å¥¨äº‹é …
      - å³åº§ã«å®Ÿè¡Œã™ã¹ãã‚¢ã‚¯ã‚·ãƒ§ãƒ³ï¼ˆ3ã¤ï¼‰
      - ä¸­æœŸçš„ãªæ”¹å–„ç­–ï¼ˆ3ã¤ï¼‰
      - KPIç›£è¦–é …ç›®
      
      ãƒ‡ãƒ¼ã‚¿å“è³ªã‚„ä¿¡é ¼æ€§ã«ã¤ã„ã¦ã‚‚è¨€åŠã—ã¦ãã ã•ã„ã€‚
    `,
    
    userPrompt: `
      ä»¥ä¸‹ã®ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æžã—ã¦ãã ã•ã„ï¼š
      
      ãƒ‡ãƒ¼ã‚¿ç¨®åˆ¥: {{$json.dataType}}
      æœŸé–“: {{$json.period}}
      ãƒ‡ãƒ¼ã‚¿: {{$json.data}}
      
      ç‰¹ã«æ³¨ç›®ã™ã¹ãæŒ‡æ¨™: {{$json.focusMetrics}}
      ãƒ“ã‚¸ãƒã‚¹ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ: {{$json.context}}
    `
  },

  // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆç‰¹åŒ–ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
  contentGeneration: {
    systemPrompt: `
      ã‚ãªãŸã¯å‰µé€ çš„ã§ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ã§ã™ã€‚
      
      ä»¥ä¸‹ã®è¦ä»¶ã«å¾“ã£ã¦ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ä½œæˆã—ã¦ãã ã•ã„ï¼š
      
      ## å“è³ªåŸºæº–
      - SEOæœ€é©åŒ–ã•ã‚ŒãŸã‚¿ã‚¤ãƒˆãƒ«ã¨è¦‹å‡ºã—
      - èª­ã¿ã‚„ã™ã„æ§‹é€ ã¨æµã‚Œ
      - å…·ä½“çš„ãªä¾‹ã¨ãƒ‡ãƒ¼ã‚¿ã®æ´»ç”¨
      - CTAï¼ˆCall to Actionï¼‰ã®é©åˆ‡ãªé…ç½®
      
      ## ãƒˆãƒ¼ãƒ³è¨­å®š
      - ãƒ—ãƒ­ãƒ•ã‚§ãƒƒã‚·ãƒ§ãƒŠãƒ«ã‹ã¤è¦ªã—ã¿ã‚„ã™ã„
      - å°‚é–€æ€§ã‚’ä¿ã¡ãªãŒã‚‰ç†è§£ã—ã‚„ã™ã„
      - ãƒã‚¸ãƒ†ã‚£ãƒ–ã§è¡Œå‹•ã‚’ä¿ƒã™
      
      ## æœ€é©åŒ–è¦ç´ 
      - é©åˆ‡ãªã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å¯†åº¦
      - ãƒ¡ã‚¿ãƒ‡ã‚£ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³ææ¡ˆ
      - é–¢é€£ã‚¿ã‚°ææ¡ˆ
    `,
    
    userPrompt: `
      ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚¿ã‚¤ãƒ—: {{$json.contentType}}
      ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚ªãƒ¼ãƒ‡ã‚£ã‚¨ãƒ³ã‚¹: {{$json.audience}}
      ä¸»è¦ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰: {{$json.keywords}}
      æ–‡å­—æ•°ç›®å®‰: {{$json.wordCount}}
      
      ç‰¹åˆ¥ãªè¦ä»¶: {{$json.requirements}}
      å‚è€ƒæƒ…å ±: {{$json.references}}
    `
  }
};
```

#### ðŸ”— Claudeçµ±åˆï¼ˆAnthropicï¼‰

```javascript
// Claudeç‰¹åŒ–ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­å®š
const claudeIntegration = {
  name: "Claudeé«˜åº¦åˆ†æžãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
  
  nodes: [
    {
      type: "n8n-nodes-base.httpRequest",
      name: "Claude API Call",
      parameters: {
        url: "https://api.anthropic.com/v1/messages",
        method: "POST",
        headers: {
          "Content-Type": "application/json",
          "x-api-key": "{{$env.ANTHROPIC_API_KEY}}",
          "anthropic-version": "2023-06-01"
        },
        body: {
          model: "claude-3-sonnet-20240229",
          max_tokens: 4000,
          temperature: 0.3,
          system: `
            ã‚ãªãŸã¯æˆ¦ç•¥ã‚³ãƒ³ã‚µãƒ«ã‚¿ãƒ³ãƒˆã§ã™ã€‚
            
            æä¾›ã•ã‚Œã‚‹æƒ…å ±ã‚’åŸºã«ã€å®Ÿè¡Œå¯èƒ½ãªæˆ¦ç•¥ææ¡ˆã‚’è¡Œã£ã¦ãã ã•ã„ã€‚
            
            å‡ºåŠ›ãƒ•ã‚©ãƒ¼ãƒžãƒƒãƒˆï¼š
            {
              "executive_summary": "ã‚¨ã‚°ã‚¼ã‚¯ãƒ†ã‚£ãƒ–ã‚µãƒžãƒªãƒ¼",
              "situation_analysis": "ç¾çŠ¶åˆ†æž",
              "strategic_options": [
                {
                  "option": "æˆ¦ç•¥é¸æŠžè‚¢",
                  "pros": ["ãƒ¡ãƒªãƒƒãƒˆ1", "ãƒ¡ãƒªãƒƒãƒˆ2"],
                  "cons": ["ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ1", "ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ2"], 
                  "risk_level": "high|medium|low",
                  "investment_required": "æŠ•è³‡é¡ç›®å®‰",
                  "timeline": "å®Ÿè¡ŒæœŸé–“",
                  "success_metrics": ["æˆåŠŸæŒ‡æ¨™1", "æˆåŠŸæŒ‡æ¨™2"]
                }
              ],
              "recommendation": "æœ€çµ‚æŽ¨å¥¨äº‹é …",
              "next_steps": ["æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³1", "æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³2"]
            }
          `,
          messages: [
            {
              role: "user", 
              content: `
                æ¥­ç•Œ: {{$json.industry}}
                ä¼æ¥­è¦æ¨¡: {{$json.companySize}}
                ç¾åœ¨ã®èª²é¡Œ: {{$json.challenges}}
                äºˆç®—: {{$json.budget}}
                æœŸé–“: {{$json.timeline}}
                
                è©³ç´°æƒ…å ±:
                {{$json.detailedInfo}}
              `
            }
          ]
        }
      }
    },
    
    // Claudeå¿œç­”ã®å¾Œå‡¦ç†
    {
      type: "n8n-nodes-base.code",
      name: "Process Claude Response",
      parameters: {
        jsCode: `
          const response = $input.first().json.content[0].text;
          let analysisResult;
          
          try {
            analysisResult = JSON.parse(response);
          } catch (error) {
            // JSONè§£æžå¤±æ•—æ™‚ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å‡¦ç†
            analysisResult = {
              executive_summary: response.substring(0, 200),
              error: "JSON parse failed",
              raw_response: response
            };
          }
          
          // çµæžœã®æ§‹é€ åŒ–ã¨æ‹¡å¼µ
          return [{
            analysis_id: generateId(),
            timestamp: new Date().toISOString(),
            model_used: "claude-3-sonnet",
            confidence_score: calculateConfidence(analysisResult),
            ...analysisResult
          }];
          
          function generateId() {
            return Date.now().toString(36) + Math.random().toString(36).substr(2);
          }
          
          function calculateConfidence(result) {
            // å¿œç­”ã®å®Œå…¨æ€§ã«åŸºã¥ãä¿¡é ¼åº¦ç®—å‡º
            const requiredFields = ['executive_summary', 'strategic_options', 'recommendation'];
            const presentFields = requiredFields.filter(field => result[field]);
            return (presentFields.length / requiredFields.length) * 100;
          }
        `
      }
    }
  ]
};
```

### ãƒžãƒ«ãƒAIãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼æˆ¦ç•¥

```javascript
// AI ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®æœ€é©ä½¿ã„åˆ†ã‘
const multiAIStrategy = {
  // GPT-4: å‰µé€ çš„ãƒ»å¯¾è©±çš„ã‚¿ã‚¹ã‚¯
  gpt4Use: {
    bestFor: [
      "ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ç”Ÿæˆ",
      "ãƒ–ãƒ¬ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒŸãƒ³ã‚°", 
      "ã‚«ã‚¹ã‚¿ãƒžãƒ¼ã‚µãƒãƒ¼ãƒˆ",
      "å‰µé€ çš„å•é¡Œè§£æ±º"
    ],
    costEfficiency: "medium",
    responseTime: "fast"
  },

  // Claude: åˆ†æžãƒ»æŽ¨è«–ã‚¿ã‚¹ã‚¯  
  claudeUse: {
    bestFor: [
      "æˆ¦ç•¥åˆ†æž",
      "é•·æ–‡èª­è§£ãƒ»è¦ç´„",
      "è¤‡é›‘ãªæŽ¨è«–",
      "ãƒªã‚¹ã‚¯åˆ†æž"
    ],
    costEfficiency: "high", 
    responseTime: "medium"
  },

  // Gemini: ãƒžãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«ãƒ»æ¤œç´¢çµ±åˆ
  geminiUse: {
    bestFor: [
      "ç”»åƒåˆ†æž",
      "ãƒžãƒ«ãƒãƒ¢ãƒ¼ãƒ€ãƒ«å‡¦ç†",
      "ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æƒ…å ±çµ±åˆ",
      "å¤šè¨€èªžå‡¦ç†"
    ],
    costEfficiency: "high",
    responseTime: "fast"
  }
};
```

---

## ðŸ”— Claude Codeé€£æº

### n8n Ã— Claude Code ã®çµ±åˆã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```mermaid
graph TB
    subgraph "Claude Codeå±¤"
        CEO[ðŸ‘‘ CEO Agent]
        CTO[âš¡ CTO Agent]  
        EM[ðŸ‘¨â€ðŸ’¼ Engineering Manager]
    end

    subgraph "n8nè‡ªå‹•åŒ–å±¤"
        Trigger[ðŸ“¡ Triggers]
        Process[âš™ï¸ Processing]
        AI[ðŸ¤– AI Integration]
        Action[ðŸŽ¯ Actions]
    end

    subgraph "å¤–éƒ¨ã‚·ã‚¹ãƒ†ãƒ "
        API[ðŸŒ External APIs]
        DB[ðŸ—„ï¸ Databases]
        Slack[ðŸ’¬ Slack]
        Email[ðŸ“§ Email]
    end

    CEO --> Trigger
    CTO --> Process
    EM --> Action
    
    Trigger --> Process
    Process --> AI
    AI --> Action
    
    Action --> API
    Action --> DB
    Action --> Slack
    Action --> Email
```

#### ðŸ¤ é€£æºè¨­å®šã®å®Ÿè£…

```javascript
// Claude Codeé€£æºç”¨n8nãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
const claudeCodeIntegration = {
  name: "Claude Code Ã— n8n çµ±åˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
  
  // 1. Claude Codeã‹ã‚‰ã®ã‚¿ã‚¹ã‚¯å—ä¿¡
  trigger: {
    type: "webhook",
    name: "Claude Code Task Receiver",
    path: "/claude-task",
    authentication: "header",
    headers: {
      "Authorization": "Bearer {{$env.CLAUDE_API_TOKEN}}"
    }
  },

  // 2. ã‚¿ã‚¹ã‚¯å†…å®¹ã®è§£æžã¨åˆ†é¡ž
  taskAnalysis: {
    type: "code",
    name: "Task Classification",
    jsCode: `
      const task = $input.first().json;
      
      // ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—ã®åˆ¤å®š
      const classifyTask = (task) => {
        const keywords = {
          data_processing: ['ãƒ‡ãƒ¼ã‚¿', 'å‡¦ç†', 'åˆ†æž', 'CSV', 'JSON'],
          communication: ['é€šçŸ¥', 'ãƒ¡ãƒ¼ãƒ«', 'Slack', 'é€£çµ¡'],
          reporting: ['ãƒ¬ãƒãƒ¼ãƒˆ', 'ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰', 'é›†è¨ˆ', 'å¯è¦–åŒ–'],
          automation: ['è‡ªå‹•åŒ–', 'ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«', 'å®šæœŸå®Ÿè¡Œ']
        };
        
        const content = task.content.toLowerCase();
        let maxScore = 0;
        let taskType = 'general';
        
        Object.entries(keywords).forEach(([type, words]) => {
          const score = words.reduce((acc, word) => {
            return acc + (content.includes(word) ? 1 : 0);
          }, 0);
          
          if (score > maxScore) {
            maxScore = score;
            taskType = type;
          }
        });
        
        return {
          ...task,
          classified_type: taskType,
          confidence: maxScore / keywords[taskType].length,
          priority: determinePriority(task),
          estimated_duration: estimateDuration(task, taskType)
        };
      };
      
      const determinePriority = (task) => {
        const urgentKeywords = ['ç·Šæ€¥', 'é‡è¦', 'ASAP', 'ä»Šã™ã'];
        const content = task.content.toLowerCase();
        
        if (urgentKeywords.some(keyword => content.includes(keyword))) {
          return 'high';
        }
        
        return task.agent_name === 'ceo' ? 'high' : 
               task.agent_name === 'cto' ? 'medium' : 'low';
      };
      
      const estimateDuration = (task, type) => {
        const baseDuration = {
          data_processing: 30,
          communication: 5,
          reporting: 60,
          automation: 45,
          general: 15
        };
        
        return baseDuration[type] || 15;
      };
      
      return [classifyTask($input.first().json)];
    `
  },

  // 3. é©åˆ‡ãªn8nãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
  router: {
    type: "switch",
    name: "Task Router",
    conditions: [
      {
        condition: "{{$json.classified_type === 'data_processing'}}",
        route: "data_processing_flow"
      },
      {
        condition: "{{$json.classified_type === 'communication'}}",
        route: "communication_flow"
      },
      {
        condition: "{{$json.classified_type === 'reporting'}}",
        route: "reporting_flow"
      },
      {
        condition: "{{$json.priority === 'high'}}",
        route: "priority_flow"
      }
    ],
    default: "general_flow"
  },

  // 4. å®Ÿè¡Œçµæžœã‚’Claude Codeã«è¿”ä¿¡
  resultHandler: {
    type: "httpRequest",
    name: "Send Result to Claude Code",
    method: "POST",
    url: "{{$env.CLAUDE_CODE_WEBHOOK_URL}}",
    headers: {
      "Content-Type": "application/json",
      "Authorization": "Bearer {{$env.CLAUDE_API_TOKEN}}"
    },
    body: {
      task_id: "{{$json.task_id}}",
      status: "completed",
      result: "{{$json.execution_result}}",
      execution_time: "{{$json.duration}}",
      success: "{{$json.success}}",
      next_steps: "{{$json.recommended_actions}}"
    }
  }
};
```

#### ðŸ“Š è‡ªå‹•ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ 

```javascript
// Claude Codeå‘ã‘è‡ªå‹•ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆ
const autoReportingSystem = {
  name: "Claude Codeè‡ªå‹•ãƒ¬ãƒãƒ¼ãƒˆã‚·ã‚¹ãƒ†ãƒ ",
  
  // æ—¥æ¬¡å®Ÿè¡Œã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«
  schedule: "0 9 * * 1-5", // å¹³æ—¥æœ9æ™‚
  
  workflow: [
    // 1. ãƒ‡ãƒ¼ã‚¿åŽé›†ï¼ˆä¸¦åˆ—å®Ÿè¡Œï¼‰
    {
      type: "parallel",
      name: "Data Collection",
      branches: [
        {
          // GitHubæ´»å‹•ãƒ‡ãƒ¼ã‚¿
          name: "GitHub Metrics",
          nodes: [
            {
              type: "httpRequest",
              url: "https://api.github.com/repos/{{$env.GITHUB_REPO}}/stats/contributors",
              headers: {
                "Authorization": "token {{$env.GITHUB_TOKEN}}"
              }
            }
          ]
        },
        {
          // Slackæ´»å‹•ãƒ‡ãƒ¼ã‚¿  
          name: "Slack Metrics",
          nodes: [
            {
              type: "slack",
              operation: "getChannelMessages",
              channel: "{{$env.SLACK_CHANNEL_ID}}",
              timeRange: "24h"
            }
          ]
        },
        {
          // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé€²æ—ãƒ‡ãƒ¼ã‚¿
          name: "Project Progress", 
          nodes: [
            {
              type: "httpRequest",
              url: "{{$env.PROJECT_API_URL}}/progress",
              headers: {
                "Authorization": "Bearer {{$env.PROJECT_API_TOKEN}}"
              }
            }
          ]
        }
      ]
    },

    // 2. ãƒ‡ãƒ¼ã‚¿çµ±åˆãƒ»åˆ†æž
    {
      type: "code",
      name: "Data Analysis",
      jsCode: `
        const github = $input.first().json.github;
        const slack = $input.first().json.slack; 
        const project = $input.first().json.project;
        
        // KPIè¨ˆç®—
        const calculateKPIs = () => {
          return {
            development_velocity: calculateVelocity(github),
            team_communication: analyzeSlack(slack),
            project_health: assessProjectHealth(project),
            productivity_score: calculateProductivity(github, slack, project),
            risk_indicators: identifyRisks(github, slack, project)
          };
        };
        
        const calculateVelocity = (githubData) => {
          const commits = githubData.commits || [];
          const prs = githubData.pullRequests || [];
          
          return {
            commits_per_day: commits.length / 7,
            pr_merge_rate: prs.filter(pr => pr.merged).length / prs.length,
            code_review_time: calculateAverageReviewTime(prs),
            bug_fix_rate: calculateBugFixRate(commits)
          };
        };
        
        const analyzeSlack = (slackData) => {
          const messages = slackData.messages || [];
          
          return {
            daily_messages: messages.length,
            response_time: calculateResponseTime(messages),
            collaboration_score: calculateCollaboration(messages),
            sentiment_analysis: analyzeSentiment(messages)
          };
        };
        
        const assessProjectHealth = (projectData) => {
          return {
            completion_rate: projectData.tasksCompleted / projectData.totalTasks,
            budget_utilization: projectData.spentBudget / projectData.totalBudget,
            timeline_adherence: calculateTimelineAdherence(projectData),
            quality_metrics: projectData.qualityScore || 0.8
          };
        };
        
        return [calculateKPIs()];
      `
    },

    // 3. AIåˆ†æžã«ã‚ˆã‚‹æ´žå¯Ÿç”Ÿæˆ
    {
      type: "openai",
      name: "Generate Insights",
      model: "gpt-4",
      systemPrompt: `
        ã‚ãªãŸã¯çµŒé¨“è±Šå¯Œãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒžãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã§ã™ã€‚
        
        æä¾›ã•ã‚Œã‚‹KPIãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æžã—ã€ä»¥ä¸‹ã®å½¢å¼ã§ãƒ¬ãƒãƒ¼ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„ï¼š
        
        ## ðŸ“Š ä»Šæ—¥ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆ
        - ä¸»è¦ãªæˆæžœï¼ˆ3ã¤ï¼‰
        - æ³¨æ„ã™ã¹ãæŒ‡æ¨™ï¼ˆã‚ã‚Œã°ï¼‰
        
        ## ðŸ“ˆ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹åˆ†æž
        - é–‹ç™ºé€Ÿåº¦ã®è©•ä¾¡
        - ãƒãƒ¼ãƒ å”åƒã®çŠ¶æ³  
        - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå¥å…¨æ€§
        
        ## âš ï¸ ãƒªã‚¹ã‚¯ã‚¢ãƒ©ãƒ¼ãƒˆ
        - æ½œåœ¨çš„ãƒªã‚¹ã‚¯
        - æŽ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
        
        ## ðŸŽ¯ æ˜Žæ—¥ã®é‡ç‚¹é …ç›®
        - å„ªå…ˆã™ã¹ãã‚¿ã‚¹ã‚¯
        - æ”¹å–„ææ¡ˆ
        
        ãƒ‡ãƒ¼ã‚¿ã«åŸºã¥ã„ãŸå…·ä½“çš„ã§å®Ÿè¡Œå¯èƒ½ãªææ¡ˆã‚’ã—ã¦ãã ã•ã„ã€‚
      `,
      userPrompt: `
        ä»¥ä¸‹ã®KPIãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æžã—ã¦ãã ã•ã„ï¼š
        {{JSON.stringify($json)}}
      `
    },

    // 4. é–¢é€£ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã¸ã®é…ä¿¡
    {
      type: "parallel",
      name: "Distribute Reports",
      branches: [
        {
          // CEOã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«æˆ¦ç•¥çš„ã‚µãƒžãƒªãƒ¼ã‚’é€ä¿¡
          name: "CEO Report",
          target: "@ceo",
          content: "{{$json.strategic_summary}}"
        },
        {
          // CTOã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«æŠ€è¡“æŒ‡æ¨™ã‚’é€ä¿¡
          name: "CTO Report", 
          target: "@cto",
          content: "{{$json.technical_metrics}}"
        },
        {
          // Engineering Managerã«ãƒãƒ¼ãƒ çŠ¶æ³ã‚’é€ä¿¡
          name: "EM Report",
          target: "@engineering-manager", 
          content: "{{$json.team_performance}}"
        }
      ]
    }
  ]
};
```

---

## ðŸŽ¯ é«˜åº¦ãªè‡ªå‹•åŒ–ãƒ‘ã‚¿ãƒ¼ãƒ³

### ðŸ”„ ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```javascript
// ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã®é«˜åº¦è‡ªå‹•åŒ–ã‚·ã‚¹ãƒ†ãƒ 
const eventDrivenAutomation = {
  name: "ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•è‡ªå‹•åŒ–ã‚·ã‚¹ãƒ†ãƒ ",
  
  // ã‚¤ãƒ™ãƒ³ãƒˆãƒ«ãƒ¼ã‚¿ãƒ¼
  eventRouter: {
    type: "webhook",
    name: "Event Router",
    path: "/events",
    
    // ã‚¤ãƒ™ãƒ³ãƒˆåˆ†é¡žãƒ­ã‚¸ãƒƒã‚¯
    processor: {
      jsCode: `
        const event = $input.first().json;
        
        // ã‚¤ãƒ™ãƒ³ãƒˆåˆ†é¡žãƒžãƒˆãƒªã‚¯ã‚¹
        const eventMatrix = {
          'github.push': {
            priority: 'medium',
            handlers: ['code_analysis', 'ci_trigger', 'notification']
          },
          'github.pull_request': {
            priority: 'high',
            handlers: ['review_request', 'ci_trigger', 'team_notification']
          },
          'slack.mention': {
            priority: 'high', 
            handlers: ['ai_response', 'context_analysis', 'escalation_check']
          },
          'customer.complaint': {
            priority: 'critical',
            handlers: ['sentiment_analysis', 'immediate_response', 'manager_alert']
          },
          'system.error': {
            priority: 'critical',
            handlers: ['error_analysis', 'auto_recovery', 'alert_team']
          },
          'business.kpi_threshold': {
            priority: 'high',
            handlers: ['kpi_analysis', 'executive_alert', 'action_plan']
          }
        };
        
        const eventType = event.type || 'unknown';
        const config = eventMatrix[eventType] || {
          priority: 'low',
          handlers: ['default_handler']
        };
        
        return [{
          ...event,
          event_classification: eventType,
          priority: config.priority,
          handlers: config.handlers,
          processing_timestamp: new Date().toISOString(),
          correlation_id: generateCorrelationId()
        }];
        
        function generateCorrelationId() {
          return 'evt_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
        }
      `
    }
  },

  // å‹•çš„ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ãƒ‡ã‚£ã‚¹ãƒ‘ãƒƒãƒ  
  handlerDispatcher: {
    type: "switch",
    name: "Dynamic Handler Dispatcher",
    conditions: [
      {
        condition: "{{$json.priority === 'critical'}}",
        route: "critical_handler"
      },
      {
        condition: "{{$json.event_classification.startsWith('github')}}",
        route: "github_handler" 
      },
      {
        condition: "{{$json.event_classification.startsWith('slack')}}",
        route: "slack_handler"
      },
      {
        condition: "{{$json.event_classification.startsWith('customer')}}",
        route: "customer_handler"
      }
    ],
    default: "default_handler"
  },

  // é«˜åº¦ãªã‚¨ãƒ©ãƒ¼ãƒªã‚«ãƒãƒªãƒ¼
  errorRecovery: {
    type: "code", 
    name: "Smart Error Recovery",
    jsCode: `
      const event = $input.first().json;
      const error = $input.first().error;
      
      // ã‚¨ãƒ©ãƒ¼åˆ†é¡žã¨è‡ªå‹•å›žå¾©æˆ¦ç•¥
      const recoveryStrategies = {
        'timeout': {
          strategy: 'retry_with_backoff',
          max_attempts: 3,
          backoff_factor: 2
        },
        'rate_limit': {
          strategy: 'exponential_backoff',
          max_attempts: 5,
          base_delay: 60000 // 1åˆ†
        },
        'authentication': {
          strategy: 'refresh_token',
          fallback: 'admin_notification'
        },
        'data_validation': {
          strategy: 'data_correction',
          fallback: 'manual_review'
        }
      };
      
      const errorType = classifyError(error);
      const strategy = recoveryStrategies[errorType] || recoveryStrategies['timeout'];
      
      return [{
        ...event,
        error_classification: errorType,
        recovery_strategy: strategy,
        next_action: determineNextAction(strategy, event.attempt_count || 0)
      }];
      
      function classifyError(error) {
        const message = error.message.toLowerCase();
        
        if (message.includes('timeout')) return 'timeout';
        if (message.includes('rate limit')) return 'rate_limit';
        if (message.includes('unauthorized') || message.includes('forbidden')) return 'authentication';
        if (message.includes('validation') || message.includes('invalid')) return 'data_validation';
        
        return 'unknown';
      }
      
      function determineNextAction(strategy, attemptCount) {
        if (attemptCount >= strategy.max_attempts) {
          return 'escalate_to_human';
        }
        
        switch (strategy.strategy) {
          case 'retry_with_backoff':
            return {
              action: 'retry',
              delay: Math.pow(strategy.backoff_factor, attemptCount) * 1000
            };
          case 'exponential_backoff':
            return {
              action: 'retry', 
              delay: strategy.base_delay * Math.pow(2, attemptCount)
            };
          case 'refresh_token':
            return { action: 'refresh_credentials' };
          default:
            return { action: 'manual_review' };
        }
      }
    `
  }
};
```

### ðŸŒ ãƒžãƒ«ãƒAPIã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

```javascript
// è¤‡æ•°APIçµ±åˆã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
const multiApiOrchestration = {
  name: "ãƒžãƒ«ãƒAPIçµ±åˆã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³",
  
  // APIçµ±åˆæˆ¦ç•¥
  strategy: {
    // 1. ä¸¦åˆ—APIå‘¼ã³å‡ºã—ï¼ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹é‡è¦–ï¼‰
    parallel: {
      name: "Parallel API Calls",
      type: "parallel",
      branches: [
        {
          name: "Salesforce Data",
          api: "salesforce",
          endpoint: "/services/data/v55.0/query/",
          params: {
            q: "SELECT Id, Name, Email, Status FROM Lead WHERE CreatedDate = TODAY"
          },
          timeout: 30000
        },
        {
          name: "HubSpot Data",
          api: "hubspot",
          endpoint: "/crm/v3/objects/contacts",
          params: {
            properties: "firstname,lastname,email,lifecyclestage",
            createdAfter: "{{$now.toISOString().split('T')[0]}}"
          },
          timeout: 30000
        },
        {
          name: "Google Analytics",
          api: "google_analytics",
          endpoint: "/v4/reports:batchGet",
          params: {
            reportRequests: [{
              viewId: "{{$env.GA_VIEW_ID}}",
              dateRanges: [{startDate: "yesterday", endDate: "yesterday"}],
              metrics: [{expression: "ga:sessions"}, {expression: "ga:users"}]
            }]
          },
          timeout: 45000
        }
      ],
      
      // çµæžœçµ±åˆå‡¦ç†
      merger: {
        jsCode: `
          const results = $input.all();
          const salesforceData = results.find(r => r.source === 'salesforce')?.data || [];
          const hubspotData = results.find(r => r.source === 'hubspot')?.data || [];
          const analyticsData = results.find(r => r.source === 'google_analytics')?.data || {};
          
          // ãƒ‡ãƒ¼ã‚¿æ­£è¦åŒ–
          const normalizeContacts = (contacts, source) => {
            return contacts.map(contact => ({
              id: contact.id || contact.Id,
              name: contact.name || contact.Name || \`\${contact.firstname} \${contact.lastname}\`,
              email: contact.email || contact.Email,
              source: source,
              lifecycle_stage: contact.lifecyclestage || contact.Status,
              created_at: contact.createdAt || contact.CreatedDate,
              normalized_at: new Date().toISOString()
            }));
          };
          
          const normalizedContacts = [
            ...normalizeContacts(salesforceData, 'salesforce'),
            ...normalizeContacts(hubspotData, 'hubspot')
          ];
          
          // é‡è¤‡é™¤åŽ»ï¼ˆãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒ™ãƒ¼ã‚¹ï¼‰
          const uniqueContacts = normalizedContacts.reduce((acc, contact) => {
            if (!acc.find(c => c.email === contact.email)) {
              acc.push(contact);
            }
            return acc;
          }, []);
          
          // çµ±åˆãƒ¬ãƒãƒ¼ãƒˆä½œæˆ
          return [{
            summary: {
              total_contacts: uniqueContacts.length,
              salesforce_contacts: salesforceData.length,
              hubspot_contacts: hubspotData.length,
              unique_contacts: uniqueContacts.length,
              duplicate_rate: ((normalizedContacts.length - uniqueContacts.length) / normalizedContacts.length * 100).toFixed(2) + '%',
              web_analytics: {
                sessions: analyticsData.sessions || 0,
                users: analyticsData.users || 0
              }
            },
            contacts: uniqueContacts,
            processing_metadata: {
              processed_at: new Date().toISOString(),
              processing_time: performance.now() - $execution.startTime,
              data_sources: ['salesforce', 'hubspot', 'google_analytics']
            }
          }];
        `
      }
    },

    // 2. é †æ¬¡APIå‘¼ã³å‡ºã—ï¼ˆä¾å­˜é–¢ä¿‚ã‚ã‚Šï¼‰
    sequential: {
      name: "Sequential API Calls", 
      type: "sequential",
      steps: [
        {
          name: "Get Auth Token",
          api: "oauth",
          endpoint: "/token",
          method: "POST",
          body: {
            grant_type: "client_credentials",
            client_id: "{{$env.CLIENT_ID}}",
            client_secret: "{{$env.CLIENT_SECRET}}"
          }
        },
        {
          name: "Fetch User Profile",
          api: "user_api", 
          endpoint: "/v1/profile/{{$json.user_id}}",
          headers: {
            "Authorization": "Bearer {{$json.access_token}}"
          },
          depends_on: "Get Auth Token"
        },
        {
          name: "Update CRM Record",
          api: "crm",
          endpoint: "/contacts/{{$json.crm_id}}",
          method: "PATCH", 
          body: {
            profile_data: "{{$json.profile}}",
            last_updated: "{{$now.toISOString()}}"
          },
          depends_on: "Fetch User Profile"
        }
      ]
    },

    // 3. æ¡ä»¶åˆ†å²APIå‘¼ã³å‡ºã—ï¼ˆå‹•çš„ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼‰
    conditional: {
      name: "Conditional API Routing",
      router: {
        jsCode: `
          const data = $input.first().json;
          
          // ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«ã«åŸºã¥ãå‹•çš„APIé¸æŠž
          const determineApiFlow = (data) => {
            // é¡§å®¢ã‚¿ã‚¤ãƒ—åˆ¥å‡¦ç†
            if (data.customer_type === 'enterprise') {
              return {
                flow: 'enterprise_api_flow',
                apis: ['salesforce', 'custom_enterprise_api', 'billing_api'],
                priority: 'high',
                sla: '5_minutes'
              };
            }
            
            // åœ°åŸŸåˆ¥å‡¦ç†
            if (data.region === 'eu') {
              return {
                flow: 'gdpr_compliant_flow',
                apis: ['eu_crm', 'gdpr_compliance_api'],
                priority: 'medium',
                sla: '15_minutes'
              };
            }
            
            // ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚ºåˆ¥å‡¦ç†
            if (data.record_count > 10000) {
              return {
                flow: 'batch_processing_flow',
                apis: ['batch_api', 'queue_manager'],
                priority: 'low',
                sla: '2_hours'
              };
            }
            
            // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‡¦ç†
            return {
              flow: 'standard_flow',
              apis: ['standard_api'],
              priority: 'medium',
              sla: '30_minutes'
            };
          };
          
          const apiFlow = determineApiFlow(data);
          
          return [{
            ...data,
            selected_flow: apiFlow.flow,
            api_endpoints: apiFlow.apis,
            processing_priority: apiFlow.priority,
            expected_sla: apiFlow.sla,
            routing_timestamp: new Date().toISOString()
          }];
        `
      }
    }
  }
};
```

---

## ðŸ¢ ãƒ“ã‚¸ãƒã‚¹æ´»ç”¨äº‹ä¾‹

### ðŸŽ¯ å–¶æ¥­ãƒ»ãƒžãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°è‡ªå‹•åŒ–

#### ðŸ“Š ãƒªãƒ¼ãƒ‰ãƒŠãƒ¼ãƒãƒ£ãƒªãƒ³ã‚°è‡ªå‹•åŒ–

```javascript
// é«˜åº¦ãªãƒªãƒ¼ãƒ‰ãƒŠãƒ¼ãƒãƒ£ãƒªãƒ³ã‚°è‡ªå‹•åŒ–ã‚·ã‚¹ãƒ†ãƒ 
const leadNurturingAutomation = {
  name: "AIé§†å‹•ãƒªãƒ¼ãƒ‰ãƒŠãƒ¼ãƒãƒ£ãƒªãƒ³ã‚°",
  
  // 1. ãƒªãƒ¼ãƒ‰ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ãƒ»ã‚·ã‚¹ãƒ†ãƒ 
  leadScoring: {
    trigger: "webhook",
    path: "/new-lead",
    
    processor: {
      type: "code",
      name: "Advanced Lead Scoring",
      jsCode: `
        const lead = $input.first().json;
        
        // å¤šæ¬¡å…ƒã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°
        const calculateLeadScore = (lead) => {
          const scores = {
            demographic: calculateDemographicScore(lead),
            behavioral: calculateBehavioralScore(lead),
            engagement: calculateEngagementScore(lead),
            intent: calculateIntentScore(lead)
          };
          
          // é‡ã¿ä»˜ãç·åˆã‚¹ã‚³ã‚¢
          const weights = {
            demographic: 0.25,
            behavioral: 0.35,
            engagement: 0.25,
            intent: 0.15
          };
          
          const totalScore = Object.entries(scores).reduce((acc, [key, value]) => {
            return acc + (value * weights[key]);
          }, 0);
          
          return {
            total_score: Math.round(totalScore),
            component_scores: scores,
            grade: getGrade(totalScore),
            next_action: determineNextAction(totalScore, scores)
          };
        };
        
        const calculateDemographicScore = (lead) => {
          let score = 0;
          
          // ä¼šç¤¾è¦æ¨¡
          const employeeCount = parseInt(lead.company_size) || 0;
          if (employeeCount > 1000) score += 30;
          else if (employeeCount > 100) score += 20;
          else if (employeeCount > 10) score += 10;
          
          // æ¥­ç•Œ
          const targetIndustries = ['technology', 'finance', 'healthcare'];
          if (targetIndustries.includes(lead.industry?.toLowerCase())) {
            score += 25;
          }
          
          // å½¹è·
          const title = lead.job_title?.toLowerCase() || '';
          if (title.includes('ceo') || title.includes('founder')) score += 30;
          else if (title.includes('manager') || title.includes('director')) score += 20;
          else if (title.includes('lead') || title.includes('head')) score += 15;
          
          return Math.min(score, 100);
        };
        
        const calculateBehavioralScore = (lead) => {
          let score = 0;
          
          // ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆè¡Œå‹•
          const pageViews = lead.page_views || 0;
          score += Math.min(pageViews * 2, 30);
          
          // ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰è³‡æ–™
          const downloads = lead.downloads || [];
          score += downloads.length * 5;
          
          // ã‚»ãƒŸãƒŠãƒ¼å‚åŠ 
          if (lead.webinar_attendance) score += 20;
          
          // è£½å“ãƒ‡ãƒ¢é–²è¦§
          if (lead.demo_viewed) score += 25;
          
          return Math.min(score, 100);
        };
        
        const calculateEngagementScore = (lead) => {
          let score = 0;
          
          // ãƒ¡ãƒ¼ãƒ«é–‹å°çŽ‡
          const emailOpenRate = lead.email_open_rate || 0;
          score += emailOpenRate * 30;
          
          // ãƒ¡ãƒ¼ãƒ«ã‚¯ãƒªãƒƒã‚¯çŽ‡  
          const emailClickRate = lead.email_click_rate || 0;
          score += emailClickRate * 50;
          
          // ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒ¡ãƒ‡ã‚£ã‚¢é–¢ä¸Ž
          if (lead.social_engagement) score += 15;
          
          // å•ã„åˆã‚ã›å›žæ•°
          const inquiries = lead.inquiry_count || 0;
          score += Math.min(inquiries * 10, 30);
          
          return Math.min(score, 100);
        };
        
        const calculateIntentScore = (lead) => {
          let score = 0;
          
          // ä¾¡æ ¼ãƒšãƒ¼ã‚¸é–²è¦§
          if (lead.pricing_page_views) score += 30;
          
          // ç«¶åˆæ¤œç´¢
          if (lead.competitor_research) score += 20;
          
          // ç„¡æ–™ãƒˆãƒ©ã‚¤ã‚¢ãƒ«é–‹å§‹
          if (lead.trial_started) score += 40;
          
          // äºˆç®—ã«é–¢ã™ã‚‹è³ªå•
          if (lead.budget_inquiry) score += 25;
          
          return Math.min(score, 100);
        };
        
        const getGrade = (score) => {
          if (score >= 80) return 'A';
          if (score >= 60) return 'B'; 
          if (score >= 40) return 'C';
          return 'D';
        };
        
        const determineNextAction = (totalScore, scores) => {
          if (totalScore >= 80) {
            return {
              action: 'immediate_sales_contact',
              priority: 'high',
              timeline: 'within_24_hours'
            };
          }
          
          if (totalScore >= 60) {
            return {
              action: 'nurturing_sequence_premium',
              priority: 'medium',
              timeline: 'within_48_hours'
            };
          }
          
          if (scores.engagement > 60) {
            return {
              action: 'engagement_focused_nurturing',
              priority: 'medium', 
              timeline: 'within_week'
            };
          }
          
          return {
            action: 'standard_nurturing_sequence',
            priority: 'low',
            timeline: 'within_2_weeks'
          };
        };
        
        const scoringResult = calculateLeadScore(lead);
        
        return [{
          ...lead,
          scoring: scoringResult,
          processed_at: new Date().toISOString()
        }];
      `
    }
  },

  // 2. ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºãƒ‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ³ã‚°
  personalizedMessaging: {
    type: "openai",
    name: "Generate Personalized Content",
    model: "gpt-4",
    systemPrompt: `
      ã‚ãªãŸã¯çµŒé¨“è±Šå¯Œãªã‚»ãƒ¼ãƒ«ã‚¹ãƒ»ãƒžãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°å°‚é–€å®¶ã§ã™ã€‚
      
      ãƒªãƒ¼ãƒ‰æƒ…å ±ã‚’åŸºã«ã€é«˜åº¦ã«ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚ºã•ã‚ŒãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚
      
      è¦ä»¶ï¼š
      - ç›¸æ‰‹ã®æ¥­ç•Œãƒ»å½¹è·ã«ç‰¹åŒ–ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
      - å…·ä½“çš„ãªãƒšã‚¤ãƒ³ãƒã‚¤ãƒ³ãƒˆã‚’ç‰¹å®š
      - è§£æ±ºç­–ã‚’æ˜Žç¢ºã«æç¤º
      - CTAï¼ˆCall to Actionï¼‰ã‚’å«ã‚ã‚‹
      - è¦ªã—ã¿ã‚„ã™ãå°‚é–€çš„ãªãƒˆãƒ¼ãƒ³
      
      å‡ºåŠ›å½¢å¼ï¼š
      {
        "subject_line": "é­…åŠ›çš„ãªä»¶å",
        "opening": "è¦ªã—ã¿ã‚„ã™ã„å°Žå…¥æ–‡",
        "value_proposition": "ä¾¡å€¤ææ¡ˆ",
        "social_proof": "ç¤¾ä¼šçš„è¨¼æ˜Ž",
        "cta": "è¡Œå‹•å–šèµ·",
        "follow_up_timeline": "ãƒ•ã‚©ãƒ­ãƒ¼ã‚¢ãƒƒãƒ—äºˆå®š"
      }
    `,
    userPrompt: `
      ä»¥ä¸‹ã®ãƒªãƒ¼ãƒ‰æƒ…å ±ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¦ãã ã•ã„ï¼š
      
      åŸºæœ¬æƒ…å ±ï¼š
      - åå‰: {{$json.name}}
      - ä¼šç¤¾: {{$json.company}}
      - å½¹è·: {{$json.job_title}}
      - æ¥­ç•Œ: {{$json.industry}}
      
      è¡Œå‹•å±¥æ­´ï¼š
      - ãƒšãƒ¼ã‚¸é–²è¦§: {{$json.page_views}}å›ž
      - è³‡æ–™ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰: {{JSON.stringify($json.downloads)}}
      - ã‚¦ã‚§ãƒ“ãƒŠãƒ¼å‚åŠ : {{$json.webinar_attendance}}
      
      ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ï¼š
      - ç·åˆã‚¹ã‚³ã‚¢: {{$json.scoring.total_score}}
      - ã‚°ãƒ¬ãƒ¼ãƒ‰: {{$json.scoring.grade}}
      - æŽ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³: {{$json.scoring.next_action.action}}
    `
  },

  // 3. ãƒžãƒ«ãƒãƒãƒ£ãƒãƒ«é…ä¿¡
  multiChannelDelivery: {
    type: "switch",
    name: "Multi-Channel Delivery",
    conditions: [
      {
        condition: "{{$json.scoring.grade === 'A'}}",
        route: "premium_sequence"
      },
      {
        condition: "{{$json.scoring.grade === 'B'}}",
        route: "standard_sequence"
      }
    ],
    
    sequences: {
      premium_sequence: [
        {
          channel: "email",
          timing: "immediate",
          template: "personalized_executive_outreach"
        },
        {
          channel: "linkedin",
          timing: "+2_hours", 
          template: "professional_connection_request"
        },
        {
          channel: "phone",
          timing: "+1_day",
          template: "warm_call_script"
        }
      ],
      
      standard_sequence: [
        {
          channel: "email",
          timing: "immediate",
          template: "value_focused_email"
        },
        {
          channel: "retargeting_ad",
          timing: "+1_day",
          template: "case_study_focused_ad"
        },
        {
          channel: "email",
          timing: "+3_days",
          template: "educational_content_email"
        }
      ]
    }
  }
};
```

#### ðŸ¤ ã‚«ã‚¹ã‚¿ãƒžãƒ¼ã‚µã‚¯ã‚»ã‚¹è‡ªå‹•åŒ–

```javascript
// é¡§å®¢æˆåŠŸè‡ªå‹•åŒ–ã‚·ã‚¹ãƒ†ãƒ 
const customerSuccessAutomation = {
  name: "AIé§†å‹•ã‚«ã‚¹ã‚¿ãƒžãƒ¼ã‚µã‚¯ã‚»ã‚¹",
  
  // 1. é¡§å®¢å¥å…¨æ€§ç›£è¦–
  healthMonitoring: {
    schedule: "0 */6 * * *", // 6æ™‚é–“æ¯Žå®Ÿè¡Œ
    
    processor: {
      type: "code", 
      name: "Customer Health Analysis",
      jsCode: `
        // è¤‡æ•°ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‹ã‚‰é¡§å®¢å¥å…¨æ€§ã‚’åˆ†æž
        const analyzeCustomerHealth = async (customers) => {
          const healthMetrics = [];
          
          for (const customer of customers) {
            const health = await calculateHealthScore(customer);
            healthMetrics.push(health);
          }
          
          return healthMetrics.sort((a, b) => a.health_score - b.health_score);
        };
        
        const calculateHealthScore = async (customer) => {
          const metrics = {
            usage: calculateUsageHealth(customer),
            engagement: calculateEngagementHealth(customer), 
            support: calculateSupportHealth(customer),
            billing: calculateBillingHealth(customer),
            outcomes: calculateOutcomeHealth(customer)
          };
          
          const weights = {
            usage: 0.3,
            engagement: 0.25,
            support: 0.15,
            billing: 0.15,
            outcomes: 0.15
          };
          
          const healthScore = Object.entries(metrics).reduce((acc, [key, value]) => {
            return acc + (value.score * weights[key]);
          }, 0);
          
          return {
            customer_id: customer.id,
            customer_name: customer.name,
            health_score: Math.round(healthScore),
            health_grade: getHealthGrade(healthScore),
            risk_level: getRiskLevel(healthScore),
            metrics: metrics,
            recommendations: generateRecommendations(metrics, healthScore),
            last_calculated: new Date().toISOString()
          };
        };
        
        const calculateUsageHealth = (customer) => {
          const usage = customer.usage_metrics || {};
          let score = 100;
          let factors = [];
          
          // ãƒ­ã‚°ã‚¤ãƒ³é »åº¦
          const loginsPerWeek = usage.weekly_logins || 0;
          const expectedLogins = customer.plan_tier === 'enterprise' ? 20 : 10;
          const loginRatio = loginsPerWeek / expectedLogins;
          
          if (loginRatio < 0.3) {
            score -= 40;
            factors.push('Low login frequency');
          } else if (loginRatio < 0.7) {
            score -= 20;
            factors.push('Below average login frequency');
          }
          
          // æ©Ÿèƒ½åˆ©ç”¨çŽ‡
          const featureAdoption = usage.feature_adoption_rate || 0;
          if (featureAdoption < 0.3) {
            score -= 30;
            factors.push('Low feature adoption');
          }
          
          // ãƒ‡ãƒ¼ã‚¿é‡
          const dataUsage = usage.data_usage_ratio || 0;
          if (dataUsage < 0.2) {
            score -= 20;
            factors.push('Underutilizing data capacity');
          }
          
          return {
            score: Math.max(score, 0),
            factors: factors,
            details: {
              login_ratio: loginRatio,
              feature_adoption: featureAdoption,
              data_usage: dataUsage
            }
          };
        };
        
        const calculateEngagementHealth = (customer) => {
          const engagement = customer.engagement_metrics || {};
          let score = 100;
          let factors = [];
          
          // ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°å®Œäº†çŽ‡
          const trainingCompletion = engagement.training_completion || 0;
          if (trainingCompletion < 0.5) {
            score -= 25;
            factors.push('Incomplete training');
          }
          
          // ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£å‚åŠ 
          if (!engagement.community_participation) {
            score -= 15;
            factors.push('No community engagement');
          }
          
          // ã‚µãƒãƒ¼ãƒˆè¨˜äº‹é–²è¦§
          const helpArticleViews = engagement.help_article_views || 0;
          if (helpArticleViews < 5) {
            score -= 10;
            factors.push('Low self-service usage');
          }
          
          return {
            score: Math.max(score, 0),
            factors: factors,
            details: engagement
          };
        };
        
        const generateRecommendations = (metrics, healthScore) => {
          const recommendations = [];
          
          if (healthScore < 70) {
            recommendations.push({
              priority: 'high',
              action: 'immediate_outreach',
              description: 'Schedule urgent check-in call within 24 hours'
            });
          }
          
          if (metrics.usage.score < 60) {
            recommendations.push({
              priority: 'medium',
              action: 'usage_optimization',
              description: 'Provide personalized product training'
            });
          }
          
          if (metrics.engagement.score < 60) {
            recommendations.push({
              priority: 'medium', 
              action: 'engagement_boost',
              description: 'Invite to upcoming webinars and community events'
            });
          }
          
          return recommendations;
        };
        
        // å®Ÿè¡Œ
        const customers = $input.all();
        return await analyzeCustomerHealth(customers);
      `
    }
  },

  // 2. ãƒ—ãƒ­ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ä»‹å…¥ã‚·ã‚¹ãƒ†ãƒ 
  proactiveIntervention: {
    type: "switch",
    name: "Risk-Based Intervention",
    conditions: [
      {
        condition: "{{$json.risk_level === 'high'}}",
        route: "crisis_management"
      },
      {
        condition: "{{$json.risk_level === 'medium'}}",
        route: "preventive_action"
      },
      {
        condition: "{{$json.health_score < 70}}",
        route: "improvement_program"
      }
    ],
    
    interventionStrategies: {
      crisis_management: [
        {
          action: "immediate_executive_outreach",
          owner: "customer_success_manager",
          timeline: "within_4_hours"
        },
        {
          action: "escalation_to_account_manager", 
          timeline: "within_8_hours"
        },
        {
          action: "retention_offer_preparation",
          timeline: "within_24_hours"
        }
      ],
      
      preventive_action: [
        {
          action: "personalized_check_in",
          timeline: "within_48_hours"
        },
        {
          action: "usage_optimization_session",
          timeline: "within_1_week"
        }
      ]
    }
  }
};
```

### ðŸ­ æ¥­å‹™ãƒ—ãƒ­ã‚»ã‚¹è‡ªå‹•åŒ–

#### ðŸ“‹ æ‰¿èªãƒ•ãƒ­ãƒ¼è‡ªå‹•åŒ–

```javascript
// å¤šæ®µéšŽæ‰¿èªãƒ•ãƒ­ãƒ¼è‡ªå‹•åŒ–
const approvalWorkflowAutomation = {
  name: "ã‚¹ãƒžãƒ¼ãƒˆæ‰¿èªãƒ•ãƒ­ãƒ¼",
  
  // å‹•çš„æ‰¿èªãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
  dynamicRouting: {
    type: "code",
    name: "Approval Router",
    jsCode: `
      const request = $input.first().json;
      
      // æ‰¿èªãƒžãƒˆãƒªã‚¯ã‚¹å®šç¾©
      const approvalMatrix = {
        expense: {
          thresholds: [
            { max: 10000, approvers: ['direct_manager'] },
            { max: 100000, approvers: ['direct_manager', 'department_head'] },
            { max: 1000000, approvers: ['direct_manager', 'department_head', 'cfo'] },
            { max: Infinity, approvers: ['direct_manager', 'department_head', 'cfo', 'ceo'] }
          ]
        },
        purchase: {
          thresholds: [
            { max: 50000, approvers: ['procurement_manager'] },
            { max: 500000, approvers: ['procurement_manager', 'cfo'] },
            { max: Infinity, approvers: ['procurement_manager', 'cfo', 'ceo'] }
          ]
        },
        contract: {
          thresholds: [
            { max: 100000, approvers: ['legal_counsel'] },
            { max: 1000000, approvers: ['legal_counsel', 'cfo'] },
            { max: Infinity, approvers: ['legal_counsel', 'cfo', 'ceo'] }
          ]
        },
        hiring: {
          thresholds: [
            { max: 1, approvers: ['hiring_manager', 'hr_manager'] },
            { max: 5, approvers: ['hiring_manager', 'hr_manager', 'department_head'] },
            { max: Infinity, approvers: ['hiring_manager', 'hr_manager', 'department_head', 'ceo'] }
          ]
        }
      };
      
      const determineApprovers = (request) => {
        const category = request.category;
        const amount = parseFloat(request.amount) || 0;
        const matrix = approvalMatrix[category];
        
        if (!matrix) {
          return ['default_approver'];
        }
        
        const threshold = matrix.thresholds.find(t => amount <= t.max);
        return threshold ? threshold.approvers : ['ceo'];
      };
      
      const calculatePriority = (request) => {
        const urgencyFactors = {
          amount: request.amount > 100000 ? 2 : 1,
          deadline: request.deadline_days < 3 ? 3 : request.deadline_days < 7 ? 2 : 1,
          requester_level: request.requester_level === 'executive' ? 2 : 1
        };
        
        const priorityScore = Object.values(urgencyFactors).reduce((a, b) => a * b, 1);
        
        if (priorityScore >= 12) return 'critical';
        if (priorityScore >= 6) return 'high';
        if (priorityScore >= 3) return 'medium';
        return 'low';
      };
      
      const generateApprovalChain = (approvers) => {
        return approvers.map((approver, index) => ({
          step: index + 1,
          approver: approver,
          status: 'pending',
          required: true,
          parallel: false, // é †æ¬¡æ‰¿èª
          estimated_time: estimateApprovalTime(approver),
          escalation_hours: getEscalationTime(approver)
        }));
      };
      
      const estimateApprovalTime = (approver) => {
        const timings = {
          direct_manager: 4,
          department_head: 8,
          hr_manager: 6,
          procurement_manager: 12,
          legal_counsel: 24,
          cfo: 48,
          ceo: 72
        };
        return timings[approver] || 24;
      };
      
      const getEscalationTime = (approver) => {
        const escalations = {
          direct_manager: 24,
          department_head: 48,
          hr_manager: 48,
          procurement_manager: 72,
          legal_counsel: 96,
          cfo: 120,
          ceo: 168
        };
        return escalations[approver] || 72;
      };
      
      const approvers = determineApprovers(request);
      const priority = calculatePriority(request);
      const approvalChain = generateApprovalChain(approvers);
      
      return [{
        ...request,
        approval_metadata: {
          required_approvers: approvers,
          priority: priority,
          approval_chain: approvalChain,
          estimated_total_time: approvalChain.reduce((sum, step) => sum + step.estimated_time, 0),
          created_at: new Date().toISOString(),
          workflow_id: 'workflow_' + Date.now()
        }
      }];
    `
  },

  // AIæ‰¿èªæ”¯æ´ã‚·ã‚¹ãƒ†ãƒ 
  aiApprovalAssistant: {
    type: "openai",
    name: "AI Approval Analysis",
    model: "gpt-4",
    systemPrompt: `
      ã‚ãªãŸã¯çµŒé¨“è±Šå¯Œãªãƒ“ã‚¸ãƒã‚¹ã‚¢ãƒŠãƒªã‚¹ãƒˆã§ã™ã€‚
      
      æ‰¿èªä¾é ¼ã‚’åˆ†æžã—ã€ä»¥ä¸‹ã‚’æä¾›ã—ã¦ãã ã•ã„ï¼š
      
      ## åˆ†æžè¦³ç‚¹
      1. **ãƒªã‚¹ã‚¯åˆ†æž**: æ½œåœ¨çš„ãƒªã‚¹ã‚¯ã¨è»½æ¸›ç­–
      2. **ã‚³ã‚¹ãƒˆåˆ†æž**: ROIäºˆæ¸¬ã¨ä»£æ›¿æ¡ˆ
      3. **ã‚³ãƒ³ãƒ—ãƒ©ã‚¤ã‚¢ãƒ³ã‚¹**: æ³•çš„ãƒ»è¦åˆ¶è¦ä»¶ã®ç¢ºèª
      4. **æˆ¦ç•¥æ•´åˆæ€§**: ä¼šç¤¾æˆ¦ç•¥ã¨ã®æ•´åˆæ€§
      
      ## å‡ºåŠ›å½¢å¼
      {
        "risk_assessment": {
          "overall_risk": "low|medium|high|critical",
          "risk_factors": ["ãƒªã‚¹ã‚¯è¦å› 1", "ãƒªã‚¹ã‚¯è¦å› 2"],
          "mitigation_strategies": ["å¯¾ç­–1", "å¯¾ç­–2"]
        },
        "financial_analysis": {
          "projected_roi": "æ•°å€¤ã¨æœŸé–“",
          "payback_period": "å›žåŽæœŸé–“", 
          "budget_impact": "äºˆç®—ã¸ã®å½±éŸ¿",
          "alternatives": ["ä»£æ›¿æ¡ˆ1", "ä»£æ›¿æ¡ˆ2"]
        },
        "compliance_check": {
          "regulatory_requirements": ["è¦ä»¶1", "è¦ä»¶2"],
          "approval_requirements": ["å¿…è¦ãªæ‰¿èª1", "å¿…è¦ãªæ‰¿èª2"],
          "documentation_needed": ["å¿…è¦æ›¸é¡ž1", "å¿…è¦æ›¸é¡ž2"]
        },
        "recommendation": {
          "decision": "approve|reject|conditional",
          "conditions": ["æ¡ä»¶1", "æ¡ä»¶2"],
          "reasoning": "è©³ç´°ãªç†ç”±"
        }
      }
    `,
    userPrompt: `
      ä»¥ä¸‹ã®æ‰¿èªä¾é ¼ã‚’åˆ†æžã—ã¦ãã ã•ã„ï¼š
      
      ## ä¾é ¼è©³ç´°
      ã‚«ãƒ†ã‚´ãƒª: {{$json.category}}
      é‡‘é¡: {{$json.amount}}å††
      ä¾é ¼è€…: {{$json.requester_name}} ({{$json.requester_department}})
      æœŸé™: {{$json.deadline_days}}æ—¥å¾Œ
      
      ## å†…å®¹
      {{$json.description}}
      
      ## äº‹æ¥­ã¸ã®å½±éŸ¿
      {{$json.business_justification}}
      
      ## äºˆç®—çŠ¶æ³  
      éƒ¨é–€äºˆç®—: {{$json.department_budget}}å††
      ä»Šå¹´åº¦ä½¿ç”¨æ¸ˆ: {{$json.budget_used}}å††
    `
  }
};
```

---

## âš¡ é‹ç”¨ãƒ»ç›£è¦–ãƒ»æœ€é©åŒ–

### ðŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ 

```javascript
// åŒ…æ‹¬çš„n8nç›£è¦–ã‚·ã‚¹ãƒ†ãƒ 
const comprehensiveMonitoring = {
  name: "n8nåŒ…æ‹¬ç›£è¦–ã‚·ã‚¹ãƒ†ãƒ ",
  
  // ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰
  realtimeMonitoring: {
    schedule: "*/5 * * * *", // 5åˆ†æ¯Žå®Ÿè¡Œ
    
    metrics: {
      type: "code",
      name: "Collect System Metrics", 
      jsCode: `
        // ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒˆãƒªã‚¯ã‚¹åŽé›†
        const collectSystemMetrics = async () => {
          const metrics = {
            system: await getSystemMetrics(),
            workflows: await getWorkflowMetrics(),
            executions: await getExecutionMetrics(),
            errors: await getErrorMetrics(),
            performance: await getPerformanceMetrics()
          };
          
          return {
            timestamp: new Date().toISOString(),
            ...metrics,
            health_score: calculateOverallHealth(metrics)
          };
        };
        
        const getSystemMetrics = async () => {
          return {
            cpu_usage: process.cpuUsage(),
            memory_usage: process.memoryUsage(),
            uptime: process.uptime(),
            active_connections: getActiveConnections(),
            queue_length: getQueueLength()
          };
        };
        
        const getWorkflowMetrics = async () => {
          const workflows = await getAllWorkflows();
          
          return {
            total_workflows: workflows.length,
            active_workflows: workflows.filter(w => w.active).length,
            last_24h_executions: await getRecentExecutions(24),
            success_rate: await getSuccessRate(24),
            avg_execution_time: await getAverageExecutionTime(24)
          };
        };
        
        const getExecutionMetrics = async () => {
          const executions = await getRecentExecutions(24);
          
          return {
            total_executions: executions.length,
            successful: executions.filter(e => e.finished && !e.error).length,
            failed: executions.filter(e => e.error).length,
            running: executions.filter(e => !e.finished).length,
            avg_duration: calculateAverageDuration(executions)
          };
        };
        
        const getErrorMetrics = async () => {
          const errors = await getRecentErrors(24);
          
          const errorTypes = errors.reduce((acc, error) => {
            const type = error.error_type || 'unknown';
            acc[type] = (acc[type] || 0) + 1;
            return acc;
          }, {});
          
          return {
            total_errors: errors.length,
            error_rate: (errors.length / await getTotalExecutions(24)) * 100,
            error_types: errorTypes,
            top_failing_workflows: getTopFailingWorkflows(errors)
          };
        };
        
        const calculateOverallHealth = (metrics) => {
          let score = 100;
          
          // CPUä½¿ç”¨çŽ‡ãƒã‚§ãƒƒã‚¯
          if (metrics.system.cpu_usage > 80) score -= 20;
          else if (metrics.system.cpu_usage > 60) score -= 10;
          
          // ãƒ¡ãƒ¢ãƒªä½¿ç”¨çŽ‡ãƒã‚§ãƒƒã‚¯
          const memoryUsage = (metrics.system.memory_usage.heapUsed / metrics.system.memory_usage.heapTotal) * 100;
          if (memoryUsage > 90) score -= 25;
          else if (memoryUsage > 75) score -= 15;
          
          // æˆåŠŸçŽ‡ãƒã‚§ãƒƒã‚¯
          if (metrics.workflows.success_rate < 95) score -= 20;
          else if (metrics.workflows.success_rate < 98) score -= 10;
          
          // ã‚¨ãƒ©ãƒ¼çŽ‡ãƒã‚§ãƒƒã‚¯
          if (metrics.errors.error_rate > 5) score -= 15;
          else if (metrics.errors.error_rate > 2) score -= 5;
          
          return Math.max(score, 0);
        };
        
        return await collectSystemMetrics();
      `
    },
    
    // ã‚¢ãƒ©ãƒ¼ãƒˆæ¡ä»¶
    alertConditions: [
      {
        condition: "health_score < 70",
        severity: "critical",
        notification: "immediate"
      },
      {
        condition: "error_rate > 10",
        severity: "high", 
        notification: "15_minutes"
      },
      {
        condition: "cpu_usage > 90",
        severity: "high",
        notification: "immediate"
      }
    ]
  },

  // è‡ªå‹•å¾©æ—§ã‚·ã‚¹ãƒ†ãƒ 
  autoRecovery: {
    type: "switch",
    name: "Auto Recovery System",
    conditions: [
      {
        condition: "{{$json.health_score < 50}}",
        route: "emergency_recovery"
      },
      {
        condition: "{{$json.errors.error_rate > 20}}",
        route: "error_recovery"
      },
      {
        condition: "{{$json.system.memory_usage > 95}}",
        route: "memory_recovery"
      }
    ],
    
    recoveryActions: {
      emergency_recovery: [
        {
          action: "restart_failed_workflows",
          wait: 30
        },
        {
          action: "clear_execution_queue", 
          wait: 10
        },
        {
          action: "scale_resources",
          parameters: { cpu: "+50%", memory: "+30%" }
        },
        {
          action: "notify_admin",
          severity: "critical"
        }
      ],
      
      error_recovery: [
        {
          action: "identify_failing_workflows",
          wait: 5
        },
        {
          action: "temporary_disable_failing",
          wait: 10
        },
        {
          action: "restart_healthy_workflows",
          wait: 20
        }
      ],
      
      memory_recovery: [
        {
          action: "clear_cache",
          wait: 10
        },
        {
          action: "garbage_collection",
          wait: 5
        },
        {
          action: "restart_memory_heavy_workflows",
          wait: 30
        }
      ]
    }
  }
};
```

### ðŸ”§ è‡ªå‹•æœ€é©åŒ–ã‚·ã‚¹ãƒ†ãƒ 

```javascript
// AIé§†å‹•ã®è‡ªå‹•æœ€é©åŒ–
const aiOptimization = {
  name: "AIé§†å‹•ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æœ€é©åŒ–",
  
  // ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹åˆ†æž
  performanceAnalysis: {
    type: "openai",
    model: "gpt-4",
    systemPrompt: `
      ã‚ãªãŸã¯n8nãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æœ€é©åŒ–ã®å°‚é–€å®¶ã§ã™ã€‚
      
      æä¾›ã•ã‚Œã‚‹å®Ÿè¡Œãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æžã—ã€å…·ä½“çš„ãªæœ€é©åŒ–ææ¡ˆã‚’è¡Œã£ã¦ãã ã•ã„ã€‚
      
      ## åˆ†æžè¦³ç‚¹
      1. **å®Ÿè¡Œæ™‚é–“æœ€é©åŒ–**: ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ç‰¹å®šã¨æ”¹å–„ç­–
      2. **ãƒªã‚½ãƒ¼ã‚¹åŠ¹çŽ‡**: CPUãƒ»ãƒ¡ãƒ¢ãƒªä½¿ç”¨ã®æœ€é©åŒ–
      3. **ã‚¨ãƒ©ãƒ¼çŽ‡å‰Šæ¸›**: å¤±æ•—è¦å› ã®åˆ†æžã¨å¯¾ç­–
      4. **ä¸¦åˆ—åŒ–æ©Ÿä¼š**: ä¸¦åˆ—å®Ÿè¡Œå¯èƒ½ãªå‡¦ç†ã®ç‰¹å®š
      
      ## å‡ºåŠ›å½¢å¼
      {
        "optimization_opportunities": [
          {
            "workflow_id": "å¯¾è±¡ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼",
            "issue": "å•é¡Œç‚¹",
            "impact": "high|medium|low",
            "solution": "å…·ä½“çš„è§£æ±ºç­–",
            "expected_improvement": "æœŸå¾…ã•ã‚Œã‚‹æ”¹å–„åŠ¹æžœ",
            "implementation_effort": "å®Ÿè£…ã‚³ã‚¹ãƒˆè¦‹ç©"
          }
        ],
        "overall_recommendations": ["ç·åˆæŽ¨å¥¨äº‹é …"],
        "priority_actions": ["å„ªå…ˆå®Ÿæ–½é …ç›®"]
      }
    `,
    userPrompt: `
      ä»¥ä¸‹ã®n8nå®Ÿè¡Œãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æžã—ã¦ãã ã•ã„ï¼š
      
      ## ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®Ÿè¡Œçµ±è¨ˆ
      {{JSON.stringify($json.workflow_stats)}}
      
      ## ã‚¨ãƒ©ãƒ¼åˆ†æž
      {{JSON.stringify($json.error_analysis)}}
      
      ## ãƒªã‚½ãƒ¼ã‚¹ä½¿ç”¨çŠ¶æ³
      {{JSON.stringify($json.resource_usage)}}
      
      ## å®Ÿè¡Œæ™‚é–“åˆ†å¸ƒ
      {{JSON.stringify($json.execution_times)}}
    `
  },
  
  // è‡ªå‹•æœ€é©åŒ–å®Ÿè¡Œ
  autoOptimization: {
    type: "code",
    name: "Execute Optimizations",
    jsCode: `
      const recommendations = $input.first().json.optimization_opportunities;
      const results = [];
      
      for (const rec of recommendations) {
        if (rec.impact === 'high' && rec.implementation_effort === 'low') {
          const result = await executeOptimization(rec);
          results.push(result);
        }
      }
      
      const executeOptimization = async (recommendation) => {
        switch (recommendation.solution_type) {
          case 'add_caching':
            return await addCaching(recommendation.workflow_id);
          case 'parallel_execution':
            return await enableParallelExecution(recommendation.workflow_id);
          case 'timeout_optimization':
            return await optimizeTimeouts(recommendation.workflow_id);
          case 'batch_processing':
            return await enableBatchProcessing(recommendation.workflow_id);
          default:
            return { status: 'skipped', reason: 'Manual intervention required' };
        }
      };
      
      const addCaching = async (workflowId) => {
        // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒŽãƒ¼ãƒ‰ã®è‡ªå‹•è¿½åŠ ãƒ­ã‚¸ãƒƒã‚¯
        return {
          workflow_id: workflowId,
          optimization: 'caching',
          status: 'applied',
          expected_improvement: '40% execution time reduction'
        };
      };
      
      return [{ optimizations_applied: results }];
    `
  }
};
```

---

## ðŸŽ¯ ã¾ã¨ã‚

### ðŸš€ n8næ´»ç”¨ã®çœŸä¾¡

#### ðŸ’Ž å®Ÿç¾å¯èƒ½ãªä¾¡å€¤

```markdown
## å®šé‡çš„åŠ¹æžœ

### â° æ™‚é–“çŸ­ç¸®åŠ¹æžœ
- æ—¥æ¬¡ä½œæ¥­: 9æ™‚é–“ â†’ 5åˆ† (99.4%å‰Šæ¸›)
- é€±æ¬¡ãƒ¬ãƒãƒ¼ãƒˆ: 4æ™‚é–“ â†’ è‡ªå‹•å®Ÿè¡Œ
- æœˆæ¬¡åˆ†æž: 8æ™‚é–“ â†’ 1æ™‚é–“

### ðŸ’° ã‚³ã‚¹ãƒˆå‰Šæ¸›åŠ¹æžœ
- äººä»¶è²»: å¹´é–“500ä¸‡å††å‰Šæ¸›
- ã‚·ã‚¹ãƒ†ãƒ é‹ç”¨è²»: å¹´é–“200ä¸‡å††å‰Šæ¸›
- ã‚¨ãƒ©ãƒ¼å¯¾å¿œã‚³ã‚¹ãƒˆ: å¹´é–“100ä¸‡å††å‰Šæ¸›

### ðŸ“ˆ å“è³ªå‘ä¸ŠåŠ¹æžœ
- ãƒ‡ãƒ¼ã‚¿ç²¾åº¦: 95% â†’ 99.8%
- ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“: å¹³å‡50%çŸ­ç¸®
- ã‚¨ãƒ©ãƒ¼çŽ‡: 80%å‰Šæ¸›
```

#### ðŸŽ¯ æˆ¦ç•¥çš„å„ªä½æ€§

| é ˜åŸŸ | å¾“æ¥æ‰‹æ³• | **n8nè‡ªå‹•åŒ–** | ç«¶äº‰å„ªä½ |
|------|---------|---------------|---------|
| **æ„æ€æ±ºå®šé€Ÿåº¦** | é€±å˜ä½ | **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ** | **100å€é«˜é€Ÿ** |
| **ãƒ‡ãƒ¼ã‚¿æ´»ç”¨åº¦** | 20% | **95%** | **å®Œå…¨æ´»ç”¨** |
| **é¡§å®¢å¿œç­”æ™‚é–“** | 24æ™‚é–“ | **5åˆ†ä»¥å†…** | **300å€æ”¹å–„** |
| **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£** | äººå“¡æ¯”ä¾‹ | **ç„¡åˆ¶é™** | **ç„¡é™æ‹¡å¼µ** |

### ðŸ“š å­¦ç¿’ãƒ»å°Žå…¥ãƒ­ãƒ¼ãƒ‰ãƒžãƒƒãƒ—

#### ðŸ—“ï¸ æ®µéšŽçš„ãƒžã‚¹ã‚¿ãƒ¼ãƒ—ãƒ©ãƒ³

**Phase 1: åŸºç¤Žç¿’å¾—ï¼ˆ1é€±é–“ï¼‰**
- [ ] n8nç’°å¢ƒæ§‹ç¯‰å®Œäº†
- [ ] åŸºæœ¬ãƒŽãƒ¼ãƒ‰æ“ä½œãƒžã‚¹ã‚¿ãƒ¼
- [ ] ç°¡å˜ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ä½œæˆ

**Phase 2: AIçµ±åˆï¼ˆ2é€±é–“ï¼‰**
- [ ] OpenAI/Claude APIçµ±åˆ
- [ ] AIé§†å‹•ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ§‹ç¯‰
- [ ] ãƒ‘ãƒ¼ã‚½ãƒŠãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…

**Phase 3: é«˜åº¦è‡ªå‹•åŒ–ï¼ˆ4é€±é–“ï¼‰**
- [ ] ãƒžãƒ«ãƒAPI ã‚ªãƒ¼ã‚±ã‚¹ãƒˆãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- [ ] ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£
- [ ] è‡ªå‹•ç›£è¦–ãƒ»å¾©æ—§ã‚·ã‚¹ãƒ†ãƒ 

**Phase 4: çµ„ç¹”å±•é–‹ï¼ˆç¶™ç¶šï¼‰**
- [ ] ãƒãƒ¼ãƒ å…¨ä½“ã¸ã®å±•é–‹
- [ ] ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ç¢ºç«‹
- [ ] ç¶™ç¶šçš„æœ€é©åŒ–

### ðŸŒŸ æœ€çµ‚ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

#### ðŸ’ª n8n Ã— AIã®ç„¡é™å¯èƒ½æ€§

```markdown
n8nã¯å˜ãªã‚‹è‡ªå‹•åŒ–ãƒ„ãƒ¼ãƒ«ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚

ã“ã‚Œã¯**ãƒ“ã‚¸ãƒã‚¹å¤‰é©**ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§ã™ï¼š

ðŸŽ¯ æˆ¦ç•¥çš„æ¥­å‹™ã«é›†ä¸­ã§ãã‚‹æ™‚é–“ã®å‰µå‡º
ðŸ¤– AI ã¨äººé–“ã®æœ€é©ãªå½¹å‰²åˆ†æ‹…  
âš¡ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ„æ€æ±ºå®šã®å®Ÿç¾
ðŸ‘¥ ãƒãƒ¼ãƒ å…¨ä½“ã®ç”Ÿç”£æ€§å‘ä¸Š
ðŸš€ ç«¶åˆä»–ç¤¾ã‚’åœ§å€’ã™ã‚‹é‹å–¶åŠ¹çŽ‡

**ä»Šæ—¥ã‹ã‚‰n8nã‚’å§‹ã‚ã¦ã€æ˜Žæ—¥ã®ãƒ“ã‚¸ãƒã‚¹ã‚’å‰µé€ ã—ã¾ã—ã‚‡ã†ï¼**
```

#### ðŸš€ ä»Šã™ãå§‹ã‚ã‚‹3ã‚¹ãƒ†ãƒƒãƒ—

```bash
# Step 1: ç’°å¢ƒæ§‹ç¯‰ï¼ˆ30åˆ†ï¼‰
docker-compose up -d  # æœ¬ã‚¬ã‚¤ãƒ‰ã®Dockerè¨­å®šä½¿ç”¨

# Step 2: æœ€åˆã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ï¼ˆ1æ™‚é–“ï¼‰
# Webhook â†’ AIåˆ†æž â†’ Slacké€šçŸ¥ã®åŸºæœ¬ãƒ‘ã‚¿ãƒ¼ãƒ³å®Ÿè£…

# Step 3: æœ¬æ ¼å±•é–‹ï¼ˆ1é€±é–“ï¼‰
# å–¶æ¥­ãƒ»ãƒžãƒ¼ã‚±ãƒ†ã‚£ãƒ³ã‚°ãƒ»æ¥­å‹™ãƒ—ãƒ­ã‚»ã‚¹ã®è‡ªå‹•åŒ–é–‹å§‹
```

**ã‚ãªãŸã®æ¥­å‹™é©å‘½ã¯ã€ä»Šã“ã®çž¬é–“ã‹ã‚‰å§‹ã¾ã‚Šã¾ã™ï¼**

---

*n8nå®Œå…¨æ”»ç•¥ã‚¬ã‚¤ãƒ‰ - æ¥­å‹™è‡ªå‹•åŒ–ã®æ–°æ™‚ä»£*  
*æœ€çµ‚æ›´æ–°: 2025å¹´1æœˆ11æ—¥*  
*å®Ÿè·µã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£: [Discordå‚åŠ ãƒªãƒ³ã‚¯]*  
*æ¬¡å›žã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆäºˆå®š: 2025å¹´2æœˆ11æ—¥*